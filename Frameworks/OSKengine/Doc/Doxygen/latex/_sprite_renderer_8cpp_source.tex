\hypertarget{_sprite_renderer_8cpp_source}{}\doxysection{Sprite\+Renderer.\+cpp}
\label{_sprite_renderer_8cpp_source}\index{OSKengine2/SpriteRenderer.cpp@{OSKengine2/SpriteRenderer.cpp}}
\mbox{\hyperlink{_sprite_renderer_8cpp}{Ir a la documentación de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_sprite_renderer_8h}{SpriteRenderer.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00003}00003 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_push_const2_d_8h}{PushConst2D.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00004}00004 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_sprite_8h}{Sprite.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00005}00005 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_transform2_d_8h}{Transform2D.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00006}00006 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_i_command_list_8h}{ICommandList.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00007}00007 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_material_instance_8h}{MaterialInstance.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00008}00008 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_material_layout_8h}{MaterialLayout.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00009}00009 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_i_material_slot_8h}{IMaterialSlot.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00010}00010 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_camera_component2_d_8h}{CameraComponent2D.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00011}00011 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_texture_8h}{Texture.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00012}00012 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_material_8h}{Material.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00013}00013 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_font_8h}{Font.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00014}00014 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_font_instance_8h}{FontInstance.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00015}00015 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_font_character_8h}{FontCharacter.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00016}00016 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00017}00017 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k}{OSK}};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00018}00018 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k_1_1_e_c_s}{OSK::ECS}};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00019}00019 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k_1_1_a_s_s_e_t_s}{OSK::ASSETS}};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00020}00020 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s}{OSK::GRAPHICS}};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00021}00021 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00022}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a103d94e314984318d0d99e7d07752601}{00022}} \textcolor{keywordtype}{void} SpriteRenderer::SetCommandList(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list}{ICommandList}}* commandList) \textcolor{keyword}{noexcept} \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00023}00023     targetCommandList = commandList;}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00024}00024 \}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00025}00025 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00026}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a2ae2a44a9c2fb615b298afb0d8fbf603}{00026}} \textcolor{keywordtype}{void} SpriteRenderer::Begin() \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00027}00027     \mbox{\hyperlink{_assert_8h_adfbccaec84df99b8277f9d877554170c}{OSK\_ASSERT}}(lastBoundMaterial == \textcolor{keyword}{nullptr}, \textcolor{stringliteral}{"{}Se debe llamar antes a End."{}});}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00028}00028     \mbox{\hyperlink{_assert_8h_adfbccaec84df99b8277f9d877554170c}{OSK\_ASSERT}}(!isStarted, \textcolor{stringliteral}{"{}Se debe llamar antes a End."{}});}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00029}00029     \mbox{\hyperlink{_assert_8h_adfbccaec84df99b8277f9d877554170c}{OSK\_ASSERT}}(targetCommandList, \textcolor{stringliteral}{"{}No se ha establecido la lista de comandos. Véase: SpriteRenderer::SetCommandList()."{}});}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00031}00031     targetCommandList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a5e41e7a449345ecc167ea9bc5a857211}{BindVertexBuffer}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_abddc6d1387d18d0dd2928a4fd32a9670}{Sprite::globalVertexBuffer}});}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00032}00032     targetCommandList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a12d4cae3d3f616dcc3a4b827a8abb5d5}{BindIndexBuffer}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_a390f8a84b9d6248b9f1ead1ba9311da4}{Sprite::globalIndexBuffer}});}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00033}00033 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00034}00034     isStarted = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00035}00035 \}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00037}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a0a92f1829e695be451b022660dbe63e1}{00037}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a0a92f1829e695be451b022660dbe63e1}{SpriteRenderer::Draw}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite}{GRAPHICS::Sprite}}\& sprite, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d}{ECS::Transform2D}}\& transform, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_color}{Color}}\& color) \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00038}00038     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a0a92f1829e695be451b022660dbe63e1}{Draw}}(sprite, sprite.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_a73e11c31d9a6a64a3ee36b8981d12e72}{GetTexCoords}}(), transform, color);}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00039}00039 \}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00040}00040 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00041}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a20555603ab3240b14523486df86d6305}{00041}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a0a92f1829e695be451b022660dbe63e1}{SpriteRenderer::Draw}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite}{Sprite}}\& sprite, \textcolor{keyword}{const} \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_texture_coordinates2_d}{TextureCoordinates2D}}\& texCoords, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d}{ECS::Transform2D}}\& transform, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_color}{Color}}\& color) \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00042}00042     \mbox{\hyperlink{_assert_8h_adfbccaec84df99b8277f9d877554170c}{OSK\_ASSERT}}(targetCommandList, \textcolor{stringliteral}{"{}No se ha establecido la lista de comandos. Véase: SpriteRenderer::SetCommandList()."{}});}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00043}00043     \mbox{\hyperlink{_assert_8h_adfbccaec84df99b8277f9d877554170c}{OSK\_ASSERT}}(isStarted, \textcolor{stringliteral}{"{}No se ha llamado a SpriteRenderer::Begin()."{}});}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00045}00045     \textcolor{keywordtype}{bool} rebind = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00046}00046 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00047}00047     \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_push_const2_d}{PushConst2D}} pushConst\{\};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00048}00048 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00049}00049     pushConst.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_push_const2_d_a3b53e9db4becde588f1bf7e3ac32d614}{color}} = sprite.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_a11c7a9da5dbf7fc9881ab094ce0140ee}{color}};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00050}00050     pushConst.matrix = transform.\mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d_a669799b8f24dcf098f19691e5f364c8d}{GetAsMatrix}}();}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00051}00051 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00052}00052     \textcolor{keywordflow}{if} (texCoords.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_texture_coordinates2_d_a5a7fcbed130061a3a916a93a83e20700}{type}} == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a8850682b4f35c42bbcf63a1e81b29c9ca5dce94de2a2a2772111f3af42badb16f}{TextureCoordsType::NORMALIZED}})}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00053}00053         pushConst.texCoords = texCoords.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_texture_coordinates2_d_a0697c62e74d6efa2c75c6f76c8bac906}{texCoords}};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00054}00054     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00055}00055         pushConst.texCoords = texCoords.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_texture_coordinates2_d_afb633839d00f826deb3c36a46f95529e}{GetNormalized}}(\{ (float)sprite.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_ae99d0f03db3cea51edaa1338766c3a3f}{GetGpuImage}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a244ebc8ce3ae3095698ea0c3eaba58fc}{GetSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector3__t_a9dd92e8b519b62ce53eb71f58eba6d50}{X}}, (float)sprite.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_ae99d0f03db3cea51edaa1338766c3a3f}{GetGpuImage}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a244ebc8ce3ae3095698ea0c3eaba58fc}{GetSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector3__t_afb19e7227d4047f7a666c03cea2b1658}{Y}} \});}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00056}00056 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00057}00057     \textcolor{keywordflow}{if} (lastBoundMaterial != sprite.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_a70849813420cac82c27194ba26d18130}{GetMaterialInstance}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_instance_ac3d9ff9441f2ff807e666f7c067ae1f2}{GetMaterial}}()) \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00058}00058         targetCommandList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_aced1453da2f79b5e435df27c330ab8d1}{BindMaterial}}(sprite.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_a70849813420cac82c27194ba26d18130}{GetMaterialInstance}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_instance_ac3d9ff9441f2ff807e666f7c067ae1f2}{GetMaterial}}());}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00059}00059         lastBoundMaterial = sprite.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_a70849813420cac82c27194ba26d18130}{GetMaterialInstance}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_instance_ac3d9ff9441f2ff807e666f7c067ae1f2}{GetMaterial}}();}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00060}00060 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00061}00061         rebind = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00062}00062     \}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00063}00063 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00064}00064     targetCommandList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_aa78c754b21eb1cf45f2c05e36bdb9276}{PushMaterialConstants}}(\textcolor{stringliteral}{"{}sprite"{}}, pushConst);}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00065}00065 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00066}00066     \textcolor{keywordflow}{if} (previousMaterialInstance != sprite.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_a70849813420cac82c27194ba26d18130}{GetMaterialInstance}}()) \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00067}00067         previousMaterialInstance = sprite.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_a70849813420cac82c27194ba26d18130}{GetMaterialInstance}}();}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00068}00068         rebind = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00069}00069     \}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00070}00070 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00071}00071     \textcolor{keywordflow}{if} (rebind)}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00072}00072         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} std::string\& slotName : previousMaterialInstance-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_instance_a5d7d87b3da1560a7a77fd9b3cafc957f}{GetLayout}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_layout_a82de8efeace9ce18733634fb7c1cc8a3}{GetAllSlotNames}}())}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00073}00073             targetCommandList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_aebccacb95627e6c8c9da33367ca14368}{BindMaterialSlot}}(previousMaterialInstance-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_instance_a0cc12aae6dc313b4c4f24abe461b5f04}{GetSlot}}(slotName));}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00074}00074 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00075}00075     targetCommandList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_ae3aa0f9da7dcfb03843196c7036c0209}{DrawSingleInstance}}(6);}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00076}00076 \}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00077}00077 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00078}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a73dae0ea6e6426dcc05adf94404bae35}{00078}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a0a92f1829e695be451b022660dbe63e1}{SpriteRenderer::Draw}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite}{Sprite}}\& sprite, \textcolor{keyword}{const} \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_texture_coordinates2_d}{TextureCoordinates2D}}\& texCoords, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2f}} position, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2f}} size, \textcolor{keywordtype}{float} rotation, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_color}{Color}}\& color) \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00079}00079     \mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d}{Transform2D}} transform(\mbox{\hyperlink{namespace_o_s_k_1_1_e_c_s_a46b3731582093c6a4b02a2024b9edf81}{EMPTY\_GAME\_OBJECT}});}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00080}00080     transform.\mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d_ab2b4d541641214df156f56415ae97d13}{SetPosition}}(position);}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00081}00081     transform.\mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d_ad0b16b933da9061638161ea51ced132e}{SetRotation}}(rotation);}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00082}00082     transform.\mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d_a4dacdf71db229722717bc2fe710edc36}{SetScale}}(size);}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00083}00083 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00084}00084     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a0a92f1829e695be451b022660dbe63e1}{Draw}}(sprite, texCoords, transform, color);}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00085}00085 \}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00086}00086 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00087}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_ae21b774bf955bd18027c47d109f35cce}{00087}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a0a92f1829e695be451b022660dbe63e1}{SpriteRenderer::Draw}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite}{Sprite}}\& sprite, \textcolor{keyword}{const} \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_texture_coordinates2_d}{TextureCoordinates2D}}\& texCoords, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d}{ECS::Transform2D}}\& transform) \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00088}00088     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a0a92f1829e695be451b022660dbe63e1}{Draw}}(sprite, texCoords, transform, sprite.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_a11c7a9da5dbf7fc9881ab094ce0140ee}{color}});}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00089}00089 \}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00090}00090 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00091}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a889e843b206370e5eb32d3330cda306a}{00091}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a0a92f1829e695be451b022660dbe63e1}{SpriteRenderer::Draw}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite}{Sprite}}\& sprite, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d}{ECS::Transform2D}}\& transform) \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00092}00092     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a0a92f1829e695be451b022660dbe63e1}{Draw}}(sprite, transform, sprite.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_a11c7a9da5dbf7fc9881ab094ce0140ee}{color}});}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00093}00093 \}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00094}00094 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00095}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a703b4ee5246303e30512b5f2564720e1}{00095}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a0a92f1829e695be451b022660dbe63e1}{SpriteRenderer::Draw}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite}{Sprite}}\& sprite, \textcolor{keyword}{const} \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_texture_coordinates2_d}{TextureCoordinates2D}}\& texCoords, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2f}} position, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2f}} size, \textcolor{keywordtype}{float} rotation) \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00096}00096     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a0a92f1829e695be451b022660dbe63e1}{Draw}}(sprite, texCoords, position, size, rotation, sprite.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_a11c7a9da5dbf7fc9881ab094ce0140ee}{color}});}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00097}00097 \}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00098}00098 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00099}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a778acb19ba79cb22e42f32d4f775a811}{00099}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a778acb19ba79cb22e42f32d4f775a811}{SpriteRenderer::DrawString}}(\mbox{\hyperlink{class_o_s_k_1_1_a_s_s_e_t_s_1_1_font}{ASSETS::Font}}\& font, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} fontSize, \textcolor{keyword}{const} std::string\& text, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d}{ECS::Transform2D}}\& transform, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_color}{Color}}\& color) \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00100}00100     \textcolor{keyword}{const} \textcolor{keyword}{auto}\& fontInstance = font.\mbox{\hyperlink{class_o_s_k_1_1_a_s_s_e_t_s_1_1_font_a6ae51ef135fdb7fc4ce7c74b1f1d7c9d}{GetInstance}}(fontSize);}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00101}00101 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00102}00102     \mbox{\hyperlink{_assert_8h_adfbccaec84df99b8277f9d877554170c}{OSK\_ASSERT}}(fontInstance.sprite.GetPointer() != \textcolor{keyword}{nullptr}, \textcolor{stringliteral}{"{}La fuente no tiene configurado su sprite."{}});}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00103}00103     \mbox{\hyperlink{_assert_8h_adfbccaec84df99b8277f9d877554170c}{OSK\_ASSERT}}(fontInstance.sprite-\/>GetMaterialInstance() != \textcolor{keyword}{nullptr}, \textcolor{stringliteral}{"{}La fuente no tiene configurado su sprite."{}});}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00104}00104 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00105}00105     \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2f}}\& position = transform.\mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d_a91ae8691a7cb6100eccea450d594f178}{GetPosition}}();}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00106}00106     \textcolor{keywordtype}{float} x = transform.\mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d_a91ae8691a7cb6100eccea450d594f178}{GetPosition}}().\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00107}00107     \textcolor{keywordtype}{float} y = transform.\mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d_a91ae8691a7cb6100eccea450d594f178}{GetPosition}}().\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00108}00108     }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00109}00109     \textcolor{keywordflow}{for} (\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} i = 0; i < text.size(); i++) \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00110}00110         \textcolor{keyword}{const} \mbox{\hyperlink{struct_o_s_k_1_1_a_s_s_e_t_s_1_1_font_character}{FontCharacter}}\& character = fontInstance.characters.Get(text[i]);}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00111}00111 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00112}00112         \textcolor{keywordflow}{if} (text[i] == \textcolor{charliteral}{'\(\backslash\)n'}) \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00113}00113             y += character.\mbox{\hyperlink{struct_o_s_k_1_1_a_s_s_e_t_s_1_1_font_character_a18a66060428ab4751f82a908be67df77}{size}}.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}} + character.\mbox{\hyperlink{struct_o_s_k_1_1_a_s_s_e_t_s_1_1_font_character_ada0b3fcf610421d9ce5691d9a6ec70d9}{bearing}}.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00114}00114             x = position.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00115}00115 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00116}00116             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00117}00117         \}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00118}00118 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00119}00119         \textcolor{keywordflow}{if} (text[i] == \textcolor{charliteral}{'\(\backslash\)t'}) \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00120}00120             x += (character.\mbox{\hyperlink{struct_o_s_k_1_1_a_s_s_e_t_s_1_1_font_character_a24b4974e31f9aec959aa2d321b65d6a8}{advance}} >> 6) * 4;\textcolor{comment}{// Font::SPACES\_PER\_TAB;}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00121}00121 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00122}00122             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00123}00123         \}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00124}00124 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00125}00125         \textcolor{keywordflow}{if} (text[i] == \textcolor{charliteral}{' '}) \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00126}00126             x += (character.\mbox{\hyperlink{struct_o_s_k_1_1_a_s_s_e_t_s_1_1_font_character_a24b4974e31f9aec959aa2d321b65d6a8}{advance}} >> 6);}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00127}00127 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00128}00128             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00129}00129         \}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00130}00130 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00131}00131         \textcolor{keywordtype}{float} sizeX = character.\mbox{\hyperlink{struct_o_s_k_1_1_a_s_s_e_t_s_1_1_font_character_a18a66060428ab4751f82a908be67df77}{size}}.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00132}00132         \textcolor{keywordtype}{float} sizeY = character.\mbox{\hyperlink{struct_o_s_k_1_1_a_s_s_e_t_s_1_1_font_character_a18a66060428ab4751f82a908be67df77}{size}}.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00133}00133 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00134}00134         \textcolor{keywordtype}{float} posX = x + character.\mbox{\hyperlink{struct_o_s_k_1_1_a_s_s_e_t_s_1_1_font_character_ada0b3fcf610421d9ce5691d9a6ec70d9}{bearing}}.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00135}00135         \textcolor{keywordtype}{float} posY = y -\/ (character.\mbox{\hyperlink{struct_o_s_k_1_1_a_s_s_e_t_s_1_1_font_character_ada0b3fcf610421d9ce5691d9a6ec70d9}{bearing}}.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}});}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00136}00136 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00137}00137         \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a0a92f1829e695be451b022660dbe63e1}{Draw}}(*fontInstance.sprite.GetPointer(), \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_texture_coordinates2_d_a107958ec64dc5601aa71636fc66963e5}{TextureCoordinates2D::Pixels}}(character.\mbox{\hyperlink{struct_o_s_k_1_1_a_s_s_e_t_s_1_1_font_character_a41736f8816f24eea12b38d37cf6b708d}{texCoords}}.\mbox{\hyperlink{class_o_s_k_1_1_vector4__t_ae04fb43d5fdc6fe55b67c233f3b78875}{ToVector4f}}()), \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2f}}(posX, posY), \mbox{\hyperlink{namespace_o_s_k_a2bb07020775133505c4b2c473ec79fa9}{Vector2f}}(sizeX, sizeY) * transform.\mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d_aed415fd5e175501eeae8f3176a2854d9}{GetScale}}(), transform.\mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d_a0b811ac01223cfcf4b9ac7db944ac2ce}{GetRotation}}(), color);}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00138}00138 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00139}00139         x += character.\mbox{\hyperlink{struct_o_s_k_1_1_a_s_s_e_t_s_1_1_font_character_a24b4974e31f9aec959aa2d321b65d6a8}{advance}} >> 6;}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00140}00140     \}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00141}00141 \}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00142}00142 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00143}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_ae0cb5f2f1ce6c1a19b8d9d2f3f8b0ce8}{00143}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a778acb19ba79cb22e42f32d4f775a811}{SpriteRenderer::DrawString}}(\mbox{\hyperlink{class_o_s_k_1_1_a_s_s_e_t_s_1_1_font}{ASSETS::Font}}\& font, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} fontSize, \textcolor{keyword}{const} std::string\& text, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2f}} position, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2f}} size, \textcolor{keywordtype}{float} rotation, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_color}{Color}}\& color) \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00144}00144     \mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d}{Transform2D}} transform(\mbox{\hyperlink{namespace_o_s_k_1_1_e_c_s_a46b3731582093c6a4b02a2024b9edf81}{EMPTY\_GAME\_OBJECT}});}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00145}00145     transform.\mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d_ab2b4d541641214df156f56415ae97d13}{SetPosition}}(position);}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00146}00146     transform.\mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d_ad0b16b933da9061638161ea51ced132e}{SetRotation}}(rotation);}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00147}00147     transform.\mbox{\hyperlink{class_o_s_k_1_1_e_c_s_1_1_transform2_d_a4dacdf71db229722717bc2fe710edc36}{SetScale}}(size);}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00148}00148 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00149}00149     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a778acb19ba79cb22e42f32d4f775a811}{DrawString}}(font, fontSize, text, transform, color);}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00150}00150 \}}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00151}00151 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00152}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a614b8a5f4e11f2b4a32cfd0710781c9f}{00152}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_sprite_renderer_a614b8a5f4e11f2b4a32cfd0710781c9f}{SpriteRenderer::End}}() noexcept \{}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00153}00153     lastBoundMaterial = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00154}00154 }
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00155}00155     isStarted = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_sprite_renderer_8cpp_source_l00156}00156 \}}

\end{DoxyCode}
