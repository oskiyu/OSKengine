\hypertarget{_swapchain_dx12_8cpp_source}{}\doxysection{Swapchain\+Dx12.\+cpp}
\label{_swapchain_dx12_8cpp_source}\index{OSKengine2/SwapchainDx12.cpp@{OSKengine2/SwapchainDx12.cpp}}
\mbox{\hyperlink{_swapchain_dx12_8cpp}{Ir a la documentaci칩n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_swapchain_dx12_8h}{SwapchainDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00003}00003 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_command_queue_dx12_8h}{CommandQueueDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00004}00004 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_window_8h}{Window.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00005}00005 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_format_dx12_8h}{FormatDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00006}00006 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_dx12_8h}{GpuDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00007}00007 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_i_gpu_memory_subblock_8h}{IGpuMemorySubblock.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00008}00008 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_subblock_dx12_8h}{GpuMemorySubblockDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00009}00009 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_block_dx12_8h}{GpuMemoryBlockDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00010}00010 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_block_dx12_8h}{GpuMemoryBlockDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00011}00011 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_o_s_kengine_8h}{OSKengine.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00012}00012 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_renderer_dx12_8h}{RendererDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00013}00013 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_i_gpu_memory_allocator_8h}{IGpuMemoryAllocator.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00014}00014 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_allocator_dx12_8h}{GpuMemoryAllocatorDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00015}00015 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_i_gpu_image_8h}{IGpuImage.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00016}00016 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_image_dx12_8h}{GpuImageDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00017}00017 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_format_8h}{Format.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00018}00018 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_types_8h}{GpuMemoryTypes.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00019}00019 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_image_dimensions_8h}{GpuImageDimensions.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00020}00020 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_image_usage_8h}{GpuImageUsage.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00021}00021 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00022}00022 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_o_s_kengine_8h}{OSKengine.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00023}00023 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_logger_8h}{Logger.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00025}00025 \textcolor{preprocessor}{\#include <d3d12.h>}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00026}00026 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00027}\mbox{\hyperlink{_swapchain_dx12_8cpp_a7226e54815f41685fdc9df544352957e}{00027}} \textcolor{preprocessor}{\#define GLFW\_EXPOSE\_NATIVE\_WIN32}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00028}00028 \textcolor{preprocessor}{\#include <GLFW/glfw3.h>}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00029}00029 \textcolor{preprocessor}{\#include <GLFW/glfw3native.h>}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00030}00030 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_types_dx12_8h}{GpuMemoryTypesDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00031}00031 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_present_mode_8h}{PresentMode.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00032}00032 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00033}00033 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k}{OSK}};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00034}00034 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k_1_1_i_o}{OSK::IO}};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00035}00035 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s}{OSK::GRAPHICS}};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00037}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_a8c6df9c7e2332e028b5e32309fd78a9a}{00037}} SwapchainDx12::\string~SwapchainDx12() \{}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00038}00038     \textcolor{keywordflow}{if} (swapchain.Get())}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00039}00039         swapchain.Reset();}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00040}00040 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00041}00041     \mbox{\hyperlink{class_o_s_k_1_1_engine_ac39b79a3e665381630f6c710f3772a2b}{Engine::GetLogger}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_i_o_1_1_logger_a3d2a88ffa05f6a74f9d669f1182bacca}{InfoLog}}(\textcolor{stringliteral}{"{}Swapchain cerrado."{}});}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00042}00042 \}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00043}00043 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00044}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_aa009a4c0a6159b41b927e3929db8d7f4}{00044}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_aa009a4c0a6159b41b927e3929db8d7f4}{SwapchainDx12::Create}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a47a7b3817b8aca438c20b7674fad28ab}{PresentMode}} mode, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu}{IGpu}}* device, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aac59f9d056e083c0b49ea768f974e3e8}{Format}} format, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_queue_dx12}{CommandQueueDx12}}\& commandQueue, IDXGIFactory4* factory, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_i_o_1_1_window}{IO::Window}}\& window) \{}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00045}00045     this-\/>device = \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a50f5c0b2bfc7bd549c9501322331c0cf}{device}};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00046}00046     this-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a84b81852e103dd84da5a874e327b96be}{colorFormat}} = format;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00047}00047 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00048}00048     this-\/>mode = \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a6a55d056d46f623dcbbb911b0b07b2af}{mode}};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00050}00050     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a6a55d056d46f623dcbbb911b0b07b2af}{mode}} == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a47a7b3817b8aca438c20b7674fad28aba9e78dc83e6b122efa2757383e0602338}{PresentMode::VSYNC\_ON\_TRIPLE\_BUFFER}}) \{}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00051}00051         \mbox{\hyperlink{_assert_8h_ab17a47d656881cd12f1529fb2fd20d7e}{OSK\_CHECK}}(\textcolor{keyword}{false}, \textcolor{stringliteral}{"{}El modo de presentaci칩n "{}} + ToString<PresentMode>(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a6a55d056d46f623dcbbb911b0b07b2af}{mode}}) + \textcolor{stringliteral}{"{} no est치 soportado. Se usar치 "{}} + ToString<PresentMode>(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a47a7b3817b8aca438c20b7674fad28abaa92c385ce9a5a1037c3843fd17500094}{PresentMode::VSYNC\_ON}}) + \textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00052}00052         \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a6a55d056d46f623dcbbb911b0b07b2af}{mode}} = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a47a7b3817b8aca438c20b7674fad28abaa92c385ce9a5a1037c3843fd17500094}{PresentMode::VSYNC\_ON}};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00053}00053     \}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00055}00055     DXGI\_SWAP\_CHAIN\_DESC1 swapchainDesc\{\};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00056}00056 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00057}00057     swapchainDesc.BufferCount = \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a85599f1e213f7ebdf66b6d5cd2a8fd14}{imageCount}};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00058}00058     swapchainDesc.BufferUsage = DXGI\_USAGE\_RENDER\_TARGET\_OUTPUT;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00059}00059 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00060}00060     swapchainDesc.Width = window.\mbox{\hyperlink{class_o_s_k_1_1_i_o_1_1_window_aa7f9f244691159612d42ddbc1fdc9288}{GetWindowSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00061}00061     swapchainDesc.Height = window.\mbox{\hyperlink{class_o_s_k_1_1_i_o_1_1_window_aa7f9f244691159612d42ddbc1fdc9288}{GetWindowSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00062}00062     swapchainDesc.Format = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a100a7488e1eee158da65062d0b5e5277}{GetFormatDx12}}(format);}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00063}00063 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00064}00064     swapchainDesc.SwapEffect = DXGI\_SWAP\_EFFECT\_FLIP\_DISCARD;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00065}00065 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00066}00066     swapchainDesc.SampleDesc.Count = 1;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00067}00067 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00068}00068     ComPtr<IDXGISwapChain1> swapchainTemp;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00069}00069     factory-\/>CreateSwapChainForHwnd(}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00070}00070         commandQueue.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_queue_dx12_a32e793d2cd29e4bcb7d064f24cc45128}{GetCommandQueue}}(), \textcolor{comment}{// swap chain forces flush when does flip}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00071}00071         glfwGetWin32Window(window.\mbox{\hyperlink{class_o_s_k_1_1_i_o_1_1_window_aeb6da49da6d72505687d04088cc79cbd}{\_GetGlfw}}()),}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00072}00072         \&swapchainDesc,}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00073}00073         \textcolor{keyword}{nullptr}, \textcolor{comment}{// pFullscreenDesc}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00074}00074         \textcolor{keyword}{nullptr}, \textcolor{comment}{// pRestrictToOutput}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00075}00075         \&swapchainTemp}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00076}00076     );}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00077}00077 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00078}00078     swapchainTemp.As(\&swapchain);}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00079}00079         }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00080}00080     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_accc82740cb7dbef6c41854d1c9f622b5}{CreateImages}}(window);}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00081}00081 \}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00082}00082 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00083}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_a8cd685c26735335357cb36ff917f9faf}{00083}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_a8cd685c26735335357cb36ff917f9faf}{SwapchainDx12::DeleteImages}}() \{}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00084}00084     \textcolor{keywordflow}{for} (\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} i = 0; i < \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a85599f1e213f7ebdf66b6d5cd2a8fd14}{imageCount}}; i++)}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00085}00085         \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_af4b44c935f04512a891cd9daf8dfec8e}{images}}[i].Delete();}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00086}00086 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00087}00087     renderTargetsDesc-\/>Release();}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00088}00088 \}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00089}00089 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00090}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_accc82740cb7dbef6c41854d1c9f622b5}{00090}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_accc82740cb7dbef6c41854d1c9f622b5}{SwapchainDx12::CreateImages}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_i_o_1_1_window}{IO::Window}}\& window) \{}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00091}00091     \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ RENDER TARGETS -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ //}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00092}00092     D3D12\_DESCRIPTOR\_HEAP\_DESC imagesMemoryCreateInfo\{\};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00093}00093     imagesMemoryCreateInfo.Flags = D3D12\_DESCRIPTOR\_HEAP\_FLAG\_NONE;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00094}00094     imagesMemoryCreateInfo.NodeMask = 0;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00095}00095     imagesMemoryCreateInfo.NumDescriptors = \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a85599f1e213f7ebdf66b6d5cd2a8fd14}{imageCount}};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00096}00096     imagesMemoryCreateInfo.Type = D3D12\_DESCRIPTOR\_HEAP\_TYPE\_RTV;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00097}00097 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00098}00098     D3D12\_DESCRIPTOR\_HEAP\_DESC depthImagesMemoryCreateInfo\{\};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00099}00099     depthImagesMemoryCreateInfo.Flags = D3D12\_DESCRIPTOR\_HEAP\_FLAG\_NONE;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00100}00100     depthImagesMemoryCreateInfo.NodeMask = 0;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00101}00101     depthImagesMemoryCreateInfo.NumDescriptors = \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a85599f1e213f7ebdf66b6d5cd2a8fd14}{imageCount}};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00102}00102     depthImagesMemoryCreateInfo.Type = D3D12\_DESCRIPTOR\_HEAP\_TYPE\_DSV;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00103}00103 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00104}00104     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a50f5c0b2bfc7bd549c9501322331c0cf}{device}}-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()-\/>CreateDescriptorHeap(\&imagesMemoryCreateInfo, IID\_PPV\_ARGS(\&renderTargetsDesc));}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00105}00105     \textcolor{keyword}{auto} result = \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a50f5c0b2bfc7bd549c9501322331c0cf}{device}}-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()-\/>CreateDescriptorHeap(\&depthImagesMemoryCreateInfo, IID\_PPV\_ARGS(\&depthTargetsDescHeap));}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00106}00106 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00107}00107     \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector3__t}{Vector3ui}} imageSize = \mbox{\hyperlink{namespace_o_s_k_acbb1ebd73c8de7036fc0108df1bf612f}{Vector3ui}}(window.\mbox{\hyperlink{class_o_s_k_1_1_i_o_1_1_window_aa7f9f244691159612d42ddbc1fdc9288}{GetWindowSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}}, window.\mbox{\hyperlink{class_o_s_k_1_1_i_o_1_1_window_aa7f9f244691159612d42ddbc1fdc9288}{GetWindowSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}}, 1);}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00108}00108     \textcolor{keywordflow}{for} (\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} i = 0; i < \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a85599f1e213f7ebdf66b6d5cd2a8fd14}{imageCount}}; i++) \{}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00109}00109         \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_af4b44c935f04512a891cd9daf8dfec8e}{images}}[i] = \textcolor{keyword}{new} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12}{GpuImageDx12}}(imageSize, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ab91ccc08d13454cfeb3c4f78deb72d59a096d0d67e4521bdc9ae95ad5ba97c596}{GpuImageDimension::d2D}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaa04bd834032febb3fda8c6936ee140949}{GpuImageUsage::COLOR}}, 1, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a84b81852e103dd84da5a874e327b96be}{colorFormat}}, 1, \{\});}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00110}00110         depthImages[i] = \textcolor{keyword}{new} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12}{GpuImageDx12}}(imageSize, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ab91ccc08d13454cfeb3c4f78deb72d59a096d0d67e4521bdc9ae95ad5ba97c596}{GpuImageDimension::d2D}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaaecaa8fe8cb0e85372f4cc76728c7cf3c}{GpuImageUsage::DEPTH\_STENCIL}}, 1, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a84b81852e103dd84da5a874e327b96be}{colorFormat}}, 1, \{\});}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00111}00111 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00112}00112         \{}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00113}00113             ComPtr<ID3D12Resource> rTarget;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00114}00114             swapchain-\/>GetBuffer(i, IID\_PPV\_ARGS(\&rTarget));}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00115}00115 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00116}00116             \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_af4b44c935f04512a891cd9daf8dfec8e}{images}}[i]-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12}{GpuImageDx12}}>()-\/>\_SetResource(rTarget);}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00117}00117 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00118}00118             D3D12\_RENDER\_TARGET\_VIEW\_DESC renderTargetDesc\{\};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00119}00119             renderTargetDesc.ViewDimension = D3D12\_RTV\_DIMENSION\_TEXTURE2D;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00120}00120             renderTargetDesc.Format = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a100a7488e1eee158da65062d0b5e5277}{GetFormatDx12}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a84b81852e103dd84da5a874e327b96be}{colorFormat}});}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00121}00121             renderTargetDesc.Texture2D.MipSlice = 0;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00122}00122             renderTargetDesc.Texture2D.PlaneSlice = 0;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00123}00123 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00124}00124             D3D12\_CPU\_DESCRIPTOR\_HANDLE renderTargetDescriptor = renderTargetsDesc-\/>GetCPUDescriptorHandleForHeapStart();}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00125}00125             renderTargetDescriptor.ptr += ((SIZE\_T)i) * \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a50f5c0b2bfc7bd549c9501322331c0cf}{device}}-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()-\/>GetDescriptorHandleIncrementSize(D3D12\_DESCRIPTOR\_HEAP\_TYPE\_RTV);}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00126}00126 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00127}00127             \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a50f5c0b2bfc7bd549c9501322331c0cf}{device}}-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()-\/>CreateRenderTargetView(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_af4b44c935f04512a891cd9daf8dfec8e}{images}}[i]-\/>As<GpuImageDx12>()-\/>GetResource(), \&renderTargetDesc, renderTargetDescriptor);}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00128}00128         \}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00129}00129 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00130}00130         \textcolor{comment}{// Depth}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00131}00131 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00132}00132         \{}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00133}00133             D3D12\_RESOURCE\_DESC depthResourceDesc\{\};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00134}00134             depthResourceDesc.Dimension = D3D12\_RESOURCE\_DIMENSION\_TEXTURE2D;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00135}00135             depthResourceDesc.Alignment = 0;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00136}00136             depthResourceDesc.Width = depthImages[i]-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a244ebc8ce3ae3095698ea0c3eaba58fc}{GetSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector3__t_a9dd92e8b519b62ce53eb71f58eba6d50}{X}};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00137}00137             depthResourceDesc.Height = depthImages[i]-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a244ebc8ce3ae3095698ea0c3eaba58fc}{GetSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector3__t_afb19e7227d4047f7a666c03cea2b1658}{Y}};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00138}00138             depthResourceDesc.DepthOrArraySize = 1;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00139}00139             depthResourceDesc.SampleDesc.Count = 1;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00140}00140             depthResourceDesc.SampleDesc.Quality = 0;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00141}00141             depthResourceDesc.MipLevels = 0;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00142}00142             depthResourceDesc.Layout = D3D12\_TEXTURE\_LAYOUT\_UNKNOWN;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00143}00143             depthResourceDesc.Format = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a100a7488e1eee158da65062d0b5e5277}{GetFormatDx12}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aac59f9d056e083c0b49ea768f974e3e8a369fdc4770e12435c7f86a893edbcb06}{Format::D32S8\_SFLOAT\_SUINT}});}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00144}00144             depthResourceDesc.Flags = D3D12\_RESOURCE\_FLAG\_ALLOW\_DEPTH\_STENCIL;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00145}00145 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00146}00146             D3D12\_CLEAR\_VALUE depthClearValue = \{\};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00147}00147             depthClearValue.Format = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a100a7488e1eee158da65062d0b5e5277}{GetFormatDx12}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aac59f9d056e083c0b49ea768f974e3e8a369fdc4770e12435c7f86a893edbcb06}{Format::D32S8\_SFLOAT\_SUINT}});}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00148}00148             depthClearValue.DepthStencil.Depth = 1.0f;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00149}00149             depthClearValue.DepthStencil.Stencil = 0;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00150}00150 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00151}00151             ComPtr<ID3D12Resource> depthResource;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00152}00152             D3D12\_RESOURCE\_ALLOCATION\_INFO allocInfo = \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a8b6b1698afeb3bb07f3b91e5ddb79b2d}{GetGpu}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()-\/>GetResourceAllocationInfo(0, 1, \&depthResourceDesc);}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00153}00153 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00154}00154             D3D12\_HEAP\_DESC memoryCreateInfo\{\};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00155}00155             memoryCreateInfo.SizeInBytes = allocInfo.SizeInBytes;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00156}00156             memoryCreateInfo.Properties.Type = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ac499da78f73320a680f1e7823c7aa60f}{GetGpuSharedMemoryTypeDx12}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a85a830e82585f3a565d1f097491042cea95c8166e4f408834884bbe57fef928f6}{GpuSharedMemoryType::GPU\_ONLY}});}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00157}00157 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00158}00158             \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a50f5c0b2bfc7bd549c9501322331c0cf}{device}}-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()-\/>CreateHeap(\&memoryCreateInfo, IID\_PPV\_ARGS(\&depthHeaps[i]));}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00159}00159             \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a50f5c0b2bfc7bd549c9501322331c0cf}{device}}-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()-\/>CreatePlacedResource(}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00160}00160                 depthHeaps[i].Get(), 0, \&depthResourceDesc, D3D12\_RESOURCE\_STATE\_DEPTH\_WRITE,}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00161}00161                 \&depthClearValue, IID\_PPV\_ARGS(\&depthResource));}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00162}00162             depthImages[i]-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a6bc3268b57ede5f9f0541b20d12dfea0}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12}{GpuImageDx12}}>()-\/>\_SetResource(depthResource);}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00163}00163 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00164}00164             D3D12\_DEPTH\_STENCIL\_VIEW\_DESC depthStencilViewDesc\{\};}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00165}00165             depthStencilViewDesc.Format = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a100a7488e1eee158da65062d0b5e5277}{GetFormatDx12}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aac59f9d056e083c0b49ea768f974e3e8a369fdc4770e12435c7f86a893edbcb06}{Format::D32S8\_SFLOAT\_SUINT}});}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00166}00166             depthStencilViewDesc.ViewDimension = D3D12\_DSV\_DIMENSION\_TEXTURE2D;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00167}00167             depthStencilViewDesc.Flags = D3D12\_DSV\_FLAG\_NONE;}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00168}00168 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00169}00169             D3D12\_CPU\_DESCRIPTOR\_HANDLE depthDescriptor = depthTargetsDescHeap-\/>GetCPUDescriptorHandleForHeapStart();}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00170}00170             depthDescriptor.ptr += ((SIZE\_T)i) * \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a50f5c0b2bfc7bd549c9501322331c0cf}{device}}-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()-\/>GetDescriptorHandleIncrementSize(D3D12\_DESCRIPTOR\_HEAP\_TYPE\_DSV);}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00171}00171 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00172}00172             \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a50f5c0b2bfc7bd549c9501322331c0cf}{device}}-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()-\/>CreateDepthStencilView(depthImages[i]-\/>As<GpuImageDx12>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_ac71ee7f557da19b1a8c1513c46f52c9c}{GetResource}}(), \&depthStencilViewDesc, depthDescriptor);}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00173}00173         \}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00174}00174     \}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00175}00175 \}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00176}00176 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00177}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_a2b32ff591946bb42ff3a4d50cbd45732}{00177}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_a2b32ff591946bb42ff3a4d50cbd45732}{SwapchainDx12::Present}}() \{}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00178}00178     swapchain-\/>Present(\textcolor{keyword}{static\_cast<}UINT\textcolor{keyword}{>}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a6a55d056d46f623dcbbb911b0b07b2af}{mode}}), 0);}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00179}00179     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_a6b8b38be2d0042035bc6c08605faddf2}{UpdateFrameIndex}}();}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00180}00180 \}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00181}00181 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00182}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_a6b8b38be2d0042035bc6c08605faddf2}{00182}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_a6b8b38be2d0042035bc6c08605faddf2}{SwapchainDx12::UpdateFrameIndex}}() \{}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00183}00183     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a7720e506b7ca0147c2296dc33b2d119a}{currentFrameIndex}} = swapchain-\/>GetCurrentBackBufferIndex();}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00184}00184 \}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00185}00185 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00186}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_a0cdee0cb5713f43965ac3160dfe1cff3}{00186}} IDXGISwapChain3* \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_a0cdee0cb5713f43965ac3160dfe1cff3}{SwapchainDx12::GetSwapchain}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00187}00187     \textcolor{keywordflow}{return} swapchain.Get();}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00188}00188 \}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00189}00189 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00190}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_a9c0ad49dec6559c30c63442858aad650}{00190}} ID3D12DescriptorHeap* \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_a9c0ad49dec6559c30c63442858aad650}{SwapchainDx12::GetRenderTargetMemory}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00191}00191     \textcolor{keywordflow}{return} this-\/>renderTargetsDesc.Get();}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00192}00192 \}}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00193}00193 }
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00194}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_afbcba548854002631cd026be996e5318}{00194}} ID3D12DescriptorHeap* \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_afbcba548854002631cd026be996e5318}{SwapchainDx12::GetDepthStencilMemory}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00195}00195     \textcolor{keywordflow}{return} this-\/>depthTargetsDescHeap.Get();}
\DoxyCodeLine{\Hypertarget{_swapchain_dx12_8cpp_source_l00196}00196 \}}

\end{DoxyCode}
