\hypertarget{_bloom_pass_8cpp_source}{}\doxysection{Bloom\+Pass.\+cpp}
\label{_bloom_pass_8cpp_source}\index{OSKengine2/BloomPass.cpp@{OSKengine2/BloomPass.cpp}}
\mbox{\hyperlink{_bloom_pass_8cpp}{Ir a la documentaci√≥n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_bloom_pass_8h}{BloomPass.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00003}00003 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_o_s_kengine_8h}{OSKengine.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00004}00004 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_i_renderer_8h}{IRenderer.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00005}00005 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_material_system_8h}{MaterialSystem.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00006}00006 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_material_8h}{Material.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00007}00007 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_i_gpu_image_8h}{IGpuImage.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00008}00008 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_image_dimensions_8h}{GpuImageDimensions.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00009}00009 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_types_8h}{GpuMemoryTypes.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00010}00010 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_image_sampler_desc_8h}{GpuImageSamplerDesc.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00011}00011 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_image_layout_8h}{GpuImageLayout.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00012}00012 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_i_command_list_8h}{ICommandList.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00013}00013 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_viewport_8h}{Viewport.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00015}00015 \textcolor{preprocessor}{\#include <ext/matrix\_clip\_space.hpp>}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00016}00016 \textcolor{preprocessor}{\#include <ext/matrix\_transform.hpp>}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00018}00018 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k}{OSK}};}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00019}00019 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s}{OSK::GRAPHICS}};}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00020}00020 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00021}\mbox{\hyperlink{_bloom_pass_8cpp_a318ad2332c1c2975056f00c81b7f9697}{00021}} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{float} \mbox{\hyperlink{_bloom_pass_8cpp_a318ad2332c1c2975056f00c81b7f9697}{BLOCK\_SIZE}} = 4.f;}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00023}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_bloom_pass_ab781f1bb2f373dc907b406a4182b9768}{00023}} \textcolor{keywordtype}{void} BloomPass::Create(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2ui}}\& size) \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00024}00024     downscaleMaterial = \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a15a2d271ad61c59ce4414dbdf016d277}{GetMaterialSystem}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_system_ad39c519e3a5f58cc2a7622ba9b39687a}{LoadMaterial}}(\textcolor{stringliteral}{"{}Resources/PbrMaterials/Bloom/downscale.json"{}});}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00025}00025     upscaleMaterial = \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a15a2d271ad61c59ce4414dbdf016d277}{GetMaterialSystem}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_system_ad39c519e3a5f58cc2a7622ba9b39687a}{LoadMaterial}}(\textcolor{stringliteral}{"{}Resources/PbrMaterials/Bloom/upscale.json"{}});}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00026}00026     finalMaterial = \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a15a2d271ad61c59ce4414dbdf016d277}{GetMaterialSystem}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_system_ad39c519e3a5f58cc2a7622ba9b39687a}{LoadMaterial}}(\textcolor{stringliteral}{"{}Resources/PbrMaterials/Bloom/final.json"{}});}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00027}00027 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00028}00028     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a2ae9345b24bc12cc56e0749a548aef7c}{postProcessingMaterialInstance}} = downscaleMaterial-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_acf1dacea3b45a53ca86d96e30af22af1}{CreateInstance}}().GetPointer();}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00030}00030     \textcolor{keywordflow}{for} (\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} i = 0; i < \_countof(bloomTargets); i++) \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00031}00031         \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_sampler_desc}{GpuImageSamplerDesc}} sampler\{\};}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00032}00032         sampler.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_sampler_desc_a741e70e94808535310cd680c4c4fcded}{mipMapMode}} = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a7b3d3107477f334f9d9d85a64c930c8aab50339a10e1de285ac99d4c3990b8693}{GpuImageMipmapMode::NONE}};}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00033}00033 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00034}00034         bloomTargets[i] = \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_acf03703bbb6f031f905612d86f104b38}{GetMemoryAllocator}}()}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00035}00035             -\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_allocator_a9edc56722522b79a352ce378e1ac8595}{CreateImage}}(\{ size.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}}, size.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}}, 1 \}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ab91ccc08d13454cfeb3c4f78deb72d59a096d0d67e4521bdc9ae95ad5ba97c596}{GpuImageDimension::d2D}}, numPasses, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aac59f9d056e083c0b49ea768f974e3e8ab90166b94483824b0f67dbb9ae2feef3}{Format::RGBA32\_SFLOAT}},}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00036}00036                 \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaa5d0791856a3081df75c6093017a61a36}{GpuImageUsage::SAMPLED}} | \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaad27edc9e6640fe235fe007c9a3cb7950}{GpuImageUsage::SAMPLED\_ARRAY}} | \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaaac404d7ce6ca5862e9b8a2641fbafd90}{GpuImageUsage::COMPUTE}} | \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaafb3bb8503e5cd907a3a7b02a495c229e}{GpuImageUsage::TRANSFER\_SOURCE}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a85a830e82585f3a565d1f097491042cea95c8166e4f408834884bbe57fef928f6}{GpuSharedMemoryType::GPU\_ONLY}}, 1, sampler).GetPointer();}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00037}00037 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00038}00038         bloomTargets[i]-\/>SetDebugName(\textcolor{stringliteral}{"{}Bloom Target "{}} + std::to\_string(i));}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00039}00039     \}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00040}00040 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00041}00041     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_aeb2b153e46784f2b55333cc63b19f605}{resolveRenderTarget}}.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_a1821b6eb7adcf7e73caa73942f91f0d5}{SetTargetImageUsage}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaac61dfc60317a58b2843ec29f8e3c2359}{GpuImageUsage::TRANSFER\_DESTINATION}} | \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaaac404d7ce6ca5862e9b8a2641fbafd90}{GpuImageUsage::COMPUTE}});}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00042}00042     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_aeb2b153e46784f2b55333cc63b19f605}{resolveRenderTarget}}.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_a2762dc66547722dc7742657d52f000bb}{Create}}(size, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aac59f9d056e083c0b49ea768f974e3e8ab90166b94483824b0f67dbb9ae2feef3}{Format::RGBA32\_SFLOAT}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aac59f9d056e083c0b49ea768f974e3e8a369fdc4770e12435c7f86a893edbcb06}{Format::D32S8\_SFLOAT\_SUINT}});}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00043}00043 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00044}00044     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_aeb2b153e46784f2b55333cc63b19f605}{resolveRenderTarget}}.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_af79cef3ae998b47fd109d86c3c19ee35}{SetName}}(\textcolor{stringliteral}{"{}Bloom Output"{}});}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00045}00045 \}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00046}00046 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00047}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_bloom_pass_a5545a4f6b434519d5fb2873ed72b2b25}{00047}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_bloom_pass_a5545a4f6b434519d5fb2873ed72b2b25}{BloomPass::Resize}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2ui}}\& size) \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00048}00048     \textcolor{keywordflow}{for} (\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} i = 0; i < \_countof(bloomTargets); i++) \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00049}00049         \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_sampler_desc}{GpuImageSamplerDesc}} sampler\{\};}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00050}00050         sampler.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_sampler_desc_a741e70e94808535310cd680c4c4fcded}{mipMapMode}} = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a7b3d3107477f334f9d9d85a64c930c8aab50339a10e1de285ac99d4c3990b8693}{GpuImageMipmapMode::NONE}};}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00051}00051         sampler.addressMode = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ac1b7e80a6459c1c2dcff1fb7b4784ea2a6563b7570ee4add31ffc4e94fa86b6fb}{GpuImageAddressMode::EDGE}};}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00052}00052 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00053}00053         bloomTargets[i] = \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_acf03703bbb6f031f905612d86f104b38}{GetMemoryAllocator}}()}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00054}00054             -\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_allocator_a9edc56722522b79a352ce378e1ac8595}{CreateImage}}(\{ size.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}}, size.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}}, 1 \}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ab91ccc08d13454cfeb3c4f78deb72d59a096d0d67e4521bdc9ae95ad5ba97c596}{GpuImageDimension::d2D}}, numPasses, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aac59f9d056e083c0b49ea768f974e3e8ab90166b94483824b0f67dbb9ae2feef3}{Format::RGBA32\_SFLOAT}},}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00055}00055                 \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaa5d0791856a3081df75c6093017a61a36}{GpuImageUsage::SAMPLED}} | \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaad27edc9e6640fe235fe007c9a3cb7950}{GpuImageUsage::SAMPLED\_ARRAY}} | \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaaac404d7ce6ca5862e9b8a2641fbafd90}{GpuImageUsage::COMPUTE}} | \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaafb3bb8503e5cd907a3a7b02a495c229e}{GpuImageUsage::TRANSFER\_SOURCE}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a85a830e82585f3a565d1f097491042cea95c8166e4f408834884bbe57fef928f6}{GpuSharedMemoryType::GPU\_ONLY}}, 1, sampler).GetPointer();}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00056}00056 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00057}00057         bloomTargets[i]-\/>SetDebugName(\textcolor{stringliteral}{"{}Bloom Target "{}} + std::to\_string(i));}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00058}00058     \}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00059}00059 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00060}00060     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_aeb2b153e46784f2b55333cc63b19f605}{resolveRenderTarget}}.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_ac9f5d87b43a7e692631a8269f4c97f2d}{Resize}}(size);}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00061}00061 \}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00062}00062 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00063}00063 \textcolor{keywordtype}{void} BloomPass::SetupMaterialInstances() \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00064}00064     \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image}{GpuImage}}* images[\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a2790b1bb1dbf382ccd86a228f9f2ccbd}{NUM\_RESOURCES\_IN\_FLIGHT}}]\{\};}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00065}00065 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00066}00066     \textcolor{keywordflow}{for} (\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} i = 0; i < \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a2790b1bb1dbf382ccd86a228f9f2ccbd}{NUM\_RESOURCES\_IN\_FLIGHT}}; i++)}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00067}00067         images[i] = bloomTargets[i].GetPointer();}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00068}00068 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00069}00069     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a2ae9345b24bc12cc56e0749a548aef7c}{postProcessingMaterialInstance}}-\/>GetSlot(\textcolor{stringliteral}{"{}texture"{}})-\/>SetStorageImages(\textcolor{stringliteral}{"{}bloomImage"{}}, images, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39acb4fb1757fb37c43cded35d3eb857c43}{SampledArrayType::ARRAY}});}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00070}00070     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a2ae9345b24bc12cc56e0749a548aef7c}{postProcessingMaterialInstance}}-\/>GetSlot(\textcolor{stringliteral}{"{}texture"{}})-\/>FlushUpdate();}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00071}00071 \}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00072}00072 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00073}00073 \textcolor{keywordtype}{void} BloomPass::ExecuteSinglePass(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list}{ICommandList}}* computeCmdList, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2f}}\& oldRes, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2f}}\& newRes, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} inputIndex, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} outputIndex) \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00074}00074     \textcolor{keyword}{struct }\{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00075}00075         \mbox{\hyperlink{class_o_s_k_1_1_vector4__t}{Vector4f}} resolutions;}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00076}00076         \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2i}} indices;}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00077}00077     \} \textcolor{keyword}{const} pushConst \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00078}00078         .resolutions = \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00079}00079             oldRes.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}}, oldRes.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}},}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00080}00080             newRes.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}}, newRes.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00081}00081         \},}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00082}00082         .indices = \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00083}00083             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(inputIndex),}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00084}00084             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(outputIndex)}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00085}00085         \}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00086}00086     \};}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00087}00087 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00088}00088     computeCmdList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_aebccacb95627e6c8c9da33367ca14368}{BindMaterialSlot}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a2ae9345b24bc12cc56e0749a548aef7c}{postProcessingMaterialInstance}}-\/>GetSlot(\textcolor{stringliteral}{"{}texture"{}}));}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00089}00089     computeCmdList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_aebccacb95627e6c8c9da33367ca14368}{BindMaterialSlot}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a2ae9345b24bc12cc56e0749a548aef7c}{postProcessingMaterialInstance}}-\/>GetSlot(\textcolor{stringliteral}{"{}exposure"{}}));}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00090}00090     computeCmdList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_aa78c754b21eb1cf45f2c05e36bdb9276}{PushMaterialConstants}}(\textcolor{stringliteral}{"{}info"{}}, pushConst);}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00091}00091 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00092}00092     \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2ui}} dispatchRes = \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00093}00093         \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}}\textcolor{keyword}{>}(glm::ceil((glm::max(oldRes.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}}, newRes.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}})) / \mbox{\hyperlink{_bloom_pass_8cpp_a318ad2332c1c2975056f00c81b7f9697}{BLOCK\_SIZE}})),}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00094}00094         \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}}\textcolor{keyword}{>}(glm::ceil((glm::max(oldRes.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}}, newRes.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}})) / \mbox{\hyperlink{_bloom_pass_8cpp_a318ad2332c1c2975056f00c81b7f9697}{BLOCK\_SIZE}}))}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00095}00095     \};}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00096}00096 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00097}00097     computeCmdList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a4f744548e824c36b684f4d35bd1b90b2}{SetGpuImageBarrier}}(bloomTargets[\mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a4a779e3af14025ec16d8a0c0a6cf0fe5}{GetCurrentCommandListIndex}}()].GetPointer(), \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a20f40e3d3e967090ee1884e0c77b9df9ab61773b9b3968a9988d765d728985862}{GpuImageLayout::GENERAL}},}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00098}00098         \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7ae6ae2d0a1bee9d966dcae11a201a3c56}{GpuBarrierStage::COMPUTE\_SHADER}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fddaf7fa6448008bb7c923369ea64e315518}{GpuBarrierAccessStage::SHADER\_READ}}), \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7ae6ae2d0a1bee9d966dcae11a201a3c56}{GpuBarrierStage::COMPUTE\_SHADER}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fdda66eb578ef321c4ad6ff674bd3e9209d6}{GpuBarrierAccessStage::SHADER\_WRITE}}),}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00099}00099         \{ .baseLayer = outputIndex, .numLayers = 1, .baseMipLevel = 0, .numMipLevels = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_af4ec621c557d492c7de3493e2b2bd1a9}{ALL\_MIP\_LEVELS}} \});}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00100}00100     computeCmdList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_af7750153e20238f0ae1476c1c179c673}{DispatchCompute}}(\{ dispatchRes.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}}, dispatchRes.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}}, 1 \});}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00101}00101     computeCmdList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a4f744548e824c36b684f4d35bd1b90b2}{SetGpuImageBarrier}}(bloomTargets[\mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a4a779e3af14025ec16d8a0c0a6cf0fe5}{GetCurrentCommandListIndex}}()].GetPointer(), \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a20f40e3d3e967090ee1884e0c77b9df9ab61773b9b3968a9988d765d728985862}{GpuImageLayout::GENERAL}},}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00102}00102         \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7ae6ae2d0a1bee9d966dcae11a201a3c56}{GpuBarrierStage::COMPUTE\_SHADER}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fdda66eb578ef321c4ad6ff674bd3e9209d6}{GpuBarrierAccessStage::SHADER\_WRITE}}), \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7ae6ae2d0a1bee9d966dcae11a201a3c56}{GpuBarrierStage::COMPUTE\_SHADER}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fddaf7fa6448008bb7c923369ea64e315518}{GpuBarrierAccessStage::SHADER\_READ}}),}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00103}00103         \{ .baseLayer = outputIndex, .numLayers = 1, .baseMipLevel = 0, .numMipLevels = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_af4ec621c557d492c7de3493e2b2bd1a9}{ALL\_MIP\_LEVELS}} \});}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00104}00104 \}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00105}00105 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00106}00106 \textcolor{keywordtype}{void} BloomPass::DownscaleBloom(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list}{GRAPHICS::ICommandList}}* computeCmdList, \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2f}}* res) \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00107}00107     computeCmdList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_aced1453da2f79b5e435df27c330ab8d1}{BindMaterial}}(downscaleMaterial);}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00108}00108 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00109}00109     \textcolor{keywordflow}{for} (\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} i = 0; i < numPasses; i++) \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00110}00110         \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} inputIndex = i -\/ 1;}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00111}00111         \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} outputIndex = i;}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00112}00112 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00113}00113         \textcolor{keywordflow}{if} (i == 0) \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00114}00114             inputIndex = numPasses;}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00115}00115             outputIndex = 0;}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00116}00116         \}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00117}00117 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00118}00118         ExecuteSinglePass(computeCmdList, *res, *res / 2.0f, inputIndex, outputIndex);}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00119}00119 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00120}00120         *res /= 2.0f;}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00121}00121     \}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00122}00122 \}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00123}00123 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00124}00124 \textcolor{keywordtype}{void} BloomPass::UpscaleBloom(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list}{GRAPHICS::ICommandList}}* computeCmdList, \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2f}}* res) \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00125}00125     computeCmdList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_aced1453da2f79b5e435df27c330ab8d1}{BindMaterial}}(upscaleMaterial);}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00126}00126     \textcolor{keywordflow}{for} (\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} i = numPasses -\/ 1; i > 0; i-\/-\/) \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00127}00127         \textcolor{keyword}{const} \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} inputIndex = i;}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00128}00128         \textcolor{keyword}{const} \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} outputIndex = inputIndex -\/ 1;}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00129}00129         }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00130}00130         ExecuteSinglePass(computeCmdList, *res, *res * 2.0f, inputIndex, outputIndex);}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00131}00131 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00132}00132         *res *= 2.0f;}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00133}00133     \}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00134}00134 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00135}00135     computeCmdList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_aced1453da2f79b5e435df27c330ab8d1}{BindMaterial}}(finalMaterial);}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00136}00136     ExecuteSinglePass(computeCmdList, *res, *res * 2.0f, 0, 3);}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00137}00137 \}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00138}00138 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00139}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_bloom_pass_a2391f9f93653168b0bfc3a84cdcff0a2}{00139}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_bloom_pass_a2391f9f93653168b0bfc3a84cdcff0a2}{BloomPass::Execute}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list}{ICommandList}}* computeCmdList) \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00140}00140     \textcolor{keyword}{const} \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} frameIndex = \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a4a779e3af14025ec16d8a0c0a6cf0fe5}{GetCurrentCommandListIndex}}();}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00141}00141 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00142}00142     computeCmdList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a4f744548e824c36b684f4d35bd1b90b2}{SetGpuImageBarrier}}(bloomTargets[frameIndex].GetPointer(), \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a20f40e3d3e967090ee1884e0c77b9df9ab61773b9b3968a9988d765d728985862}{GpuImageLayout::GENERAL}},}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00143}00143         \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7aeb5ddb3b6096fb90ff720d9c3e2a6628}{GpuBarrierStage::TRANSFER}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fdda666cbf12350de6ce2062553ccf1b4837}{GpuBarrierAccessStage::TRANSFER\_READ}}), \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7ae6ae2d0a1bee9d966dcae11a201a3c56}{GpuBarrierStage::COMPUTE\_SHADER}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fddaf7fa6448008bb7c923369ea64e315518}{GpuBarrierAccessStage::SHADER\_READ}}),}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00144}00144         \{ .baseLayer = 0, .numLayers = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a180d96d3f745a60bce6b0ffd5209ce35}{ALL\_IMAGE\_LAYERS}}, .baseMipLevel = 0, .numMipLevels = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_af4ec621c557d492c7de3493e2b2bd1a9}{ALL\_MIP\_LEVELS}} \});}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00145}00145 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00146}00146     \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2f}} initialBloomRes = \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_aeb2b153e46784f2b55333cc63b19f605}{resolveRenderTarget}}.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_a40976c088e2d4dbea427ccd4fbebcab1}{GetSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_a0d2ae26c0e6fc58b9a3013a443ff3923}{ToVector2f}}();}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00147}00147     DownscaleBloom(computeCmdList, \&initialBloomRes);}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00148}00148     UpscaleBloom(computeCmdList, \&initialBloomRes);}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00149}00149 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00150}00150     computeCmdList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a4f744548e824c36b684f4d35bd1b90b2}{SetGpuImageBarrier}}(bloomTargets[frameIndex].GetPointer(), \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a20f40e3d3e967090ee1884e0c77b9df9a22cd9239bff154eb77127f467855ab94}{GpuImageLayout::SHADER\_READ\_ONLY}},}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00151}00151         \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7ae6ae2d0a1bee9d966dcae11a201a3c56}{GpuBarrierStage::COMPUTE\_SHADER}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fddaf7fa6448008bb7c923369ea64e315518}{GpuBarrierAccessStage::SHADER\_READ}}), \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7aaf58ae9f6cade42be9607c7298fd97d1}{GpuBarrierStage::FRAGMENT\_SHADER}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fddaf7fa6448008bb7c923369ea64e315518}{GpuBarrierAccessStage::SHADER\_READ}}),}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00152}00152         \{ .baseLayer = 0, .numLayers = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a180d96d3f745a60bce6b0ffd5209ce35}{ALL\_IMAGE\_LAYERS}}, .baseMipLevel = 0, .numMipLevels = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_af4ec621c557d492c7de3493e2b2bd1a9}{ALL\_MIP\_LEVELS}} \});}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00153}00153 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00154}00154     \textcolor{comment}{// Resolve / copy}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00155}00155     computeCmdList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a4f744548e824c36b684f4d35bd1b90b2}{SetGpuImageBarrier}}(bloomTargets[frameIndex].GetPointer(), \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a20f40e3d3e967090ee1884e0c77b9df9afb3bb8503e5cd907a3a7b02a495c229e}{GpuImageLayout::TRANSFER\_SOURCE}},}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00156}00156         \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7ae6ae2d0a1bee9d966dcae11a201a3c56}{GpuBarrierStage::COMPUTE\_SHADER}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fddaf7fa6448008bb7c923369ea64e315518}{GpuBarrierAccessStage::SHADER\_READ}}), \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7aeb5ddb3b6096fb90ff720d9c3e2a6628}{GpuBarrierStage::TRANSFER}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fdda666cbf12350de6ce2062553ccf1b4837}{GpuBarrierAccessStage::TRANSFER\_READ}}));}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00157}00157     computeCmdList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a4f744548e824c36b684f4d35bd1b90b2}{SetGpuImageBarrier}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_aeb2b153e46784f2b55333cc63b19f605}{resolveRenderTarget}}.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_a8c608c1c1f6d5b15d6a69e0e5baee7de}{GetMainTargetImage}}(frameIndex), \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a20f40e3d3e967090ee1884e0c77b9df9ac61dfc60317a58b2843ec29f8e3c2359}{GpuImageLayout::TRANSFER\_DESTINATION}},}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00158}00158         \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7ae6ae2d0a1bee9d966dcae11a201a3c56}{GpuBarrierStage::COMPUTE\_SHADER}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fddaf7fa6448008bb7c923369ea64e315518}{GpuBarrierAccessStage::SHADER\_READ}}), \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7aeb5ddb3b6096fb90ff720d9c3e2a6628}{GpuBarrierStage::TRANSFER}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fddab5ca404a51ead36c6fa38cff8121dd25}{GpuBarrierAccessStage::TRANSFER\_WRITE}}));}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00159}00159 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00160}00160     computeCmdList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a68e72a36c4670bb7de7b3fdab6c2bb99}{CopyImageToImage}}(bloomTargets[frameIndex].GetPointer(), \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_aeb2b153e46784f2b55333cc63b19f605}{resolveRenderTarget}}.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_a8c608c1c1f6d5b15d6a69e0e5baee7de}{GetMainTargetImage}}(frameIndex),}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00161}00161         1, 3, 0, 0, 0, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_aeb2b153e46784f2b55333cc63b19f605}{resolveRenderTarget}}.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_a40976c088e2d4dbea427ccd4fbebcab1}{GetSize}}());}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00162}00162 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00163}00163     computeCmdList-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a4f744548e824c36b684f4d35bd1b90b2}{SetGpuImageBarrier}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_aeb2b153e46784f2b55333cc63b19f605}{resolveRenderTarget}}.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_a8c608c1c1f6d5b15d6a69e0e5baee7de}{GetMainTargetImage}}(frameIndex), \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a20f40e3d3e967090ee1884e0c77b9df9ab61773b9b3968a9988d765d728985862}{GpuImageLayout::GENERAL}},}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00164}00164         \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7aeb5ddb3b6096fb90ff720d9c3e2a6628}{GpuBarrierStage::TRANSFER}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fddab5ca404a51ead36c6fa38cff8121dd25}{GpuBarrierAccessStage::TRANSFER\_WRITE}}), \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7ae6ae2d0a1bee9d966dcae11a201a3c56}{GpuBarrierStage::COMPUTE\_SHADER}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fddaf7fa6448008bb7c923369ea64e315518}{GpuBarrierAccessStage::SHADER\_READ}}));}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00165}00165 \}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00166}00166 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00167}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_bloom_pass_a529ba4b0d65f951ec6a221b13dd7484b}{00167}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_bloom_pass_a529ba4b0d65f951ec6a221b13dd7484b}{BloomPass::SetExposureBuffers}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_storage_buffer}{IGpuStorageBuffer}}* buffers[3]) \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00168}00168     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a2ae9345b24bc12cc56e0749a548aef7c}{postProcessingMaterialInstance}}-\/>GetSlot(\textcolor{stringliteral}{"{}exposure"{}})-\/>SetStorageBuffers(\textcolor{stringliteral}{"{}exposure"{}}, (\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_data_buffer}{GpuDataBuffer}}**)buffers);}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00169}00169     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a2ae9345b24bc12cc56e0749a548aef7c}{postProcessingMaterialInstance}}-\/>GetSlot(\textcolor{stringliteral}{"{}exposure"{}})-\/>FlushUpdate();}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00170}00170 \}}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00171}00171 }
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00172}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_bloom_pass_a40b847730935dd0c838d5ce76e8ad65c}{00172}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_bloom_pass_a40b847730935dd0c838d5ce76e8ad65c}{BloomPass::UpdateMaterialInstance}}() \{}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00173}00173     SetupMaterialInstances();}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00174}00174     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a8208778343f1ebf2150487856afec2ab}{IPostProcessPass::UpdateMaterialInstance}}();}
\DoxyCodeLine{\Hypertarget{_bloom_pass_8cpp_source_l00175}00175 \}}

\end{DoxyCode}
