\hypertarget{_command_list_dx12_8cpp_source}{}\doxysection{Command\+List\+Dx12.\+cpp}
\label{_command_list_dx12_8cpp_source}\index{OSKengine2/CommandListDx12.cpp@{OSKengine2/CommandListDx12.cpp}}
\mbox{\hyperlink{_command_list_dx12_8cpp}{Ir a la documentaci√≥n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_command_list_dx12_8h}{CommandListDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00003}00003 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_graphics_pipeline_dx12_8h}{GraphicsPipelineDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00004}00004 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_command_pool_dx12_8h}{CommandPoolDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00005}00005 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_block_dx12_8h}{GpuMemoryBlockDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00006}00006 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_subblock_dx12_8h}{GpuMemorySubblockDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00007}00007 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_image_layout_dx12_8h}{GpuImageLayoutDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00008}00008 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_i_gpu_image_8h}{IGpuImage.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00009}00009 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_image_dx12_8h}{GpuImageDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00010}00010 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_color_8hpp}{Color.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00011}00011 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_types_8h}{GpuMemoryTypes.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00012}00012 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_image_layout_8h}{GpuImageLayout.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00013}00013 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_renderpass_type_8h}{RenderpassType.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00014}00014 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_swapchain_dx12_8h}{SwapchainDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00015}00015 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_o_s_kengine_8h}{OSKengine.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00016}00016 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_renderer_dx12_8h}{RendererDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00017}00017 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_dx12_8h}{GpuDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00018}00018 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_vertex_buffer_dx12_8h}{GpuVertexBufferDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00019}00019 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_viewport_8h}{Viewport.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00020}00020 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_index_buffer_dx12_8h}{GpuIndexBufferDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00021}00021 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_material_slot_dx12_8h}{MaterialSlotDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00022}00022 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_material_8h}{Material.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00023}00023 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_format_dx12_8h}{FormatDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00024}00024 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_format_8h}{Format.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00025}00025 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_material_layout_8h}{MaterialLayout.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00026}00026 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_math_8h}{Math.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00027}00027 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_windows_utils_8h}{WindowsUtils.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00028}00028 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_image_view_dx12_8h}{GpuImageViewDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00029}00029 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_pipeline_layout_dx12_8h}{PipelineLayoutDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00030}00030 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_storage_buffer_dx12_8h}{GpuStorageBufferDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00032}00032 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k}{OSK}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00033}00033 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s}{OSK::GRAPHICS}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00034}00034 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00035}\mbox{\hyperlink{_command_list_dx12_8cpp_adcaf6e3171c25be65e6a9f66fe794db1}{00035}} \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} \mbox{\hyperlink{_command_list_dx12_8cpp_adcaf6e3171c25be65e6a9f66fe794db1}{Multiplo256}}(\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} original) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00036}00036     \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} output = original / 256;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00037}00037     \textcolor{keywordflow}{if} (original \% 256 != 0)}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00038}00038         output++;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00039}00039 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00040}00040     \textcolor{keywordflow}{return} output * 256;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00041}00041 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00042}00042 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00043}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_aaf5a34fa8447d68f40ee5abaa03748f7}{00043}} \textcolor{keywordtype}{void} CommandListDx12::SetCommandList(\textcolor{keyword}{const} ComPtr<ID3D12GraphicsCommandList>\& commandList) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00044}00044     this-\/>commandList = commandList;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00045}00045 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00046}00046 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00047}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a621a55a5d29e7e84795a49f1793052db}{00047}} ID3D12GraphicsCommandList* \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a621a55a5d29e7e84795a49f1793052db}{CommandListDx12::GetCommandList}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00048}00048     \textcolor{keywordflow}{return} commandList.Get();}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00049}00049 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00050}00050 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00051}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a33921bfa8f5aafdb5da3f8a34ed6808c}{00051}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a33921bfa8f5aafdb5da3f8a34ed6808c}{CommandListDx12::SetCommandPool}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_pool_dx12}{CommandPoolDx12}}\& commandPool) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00052}00052     this-\/>commandPool = \&commandPool;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00053}00053 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00055}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a759a7b5bafbc49c807e324cf7f21df4b}{00055}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a759a7b5bafbc49c807e324cf7f21df4b}{CommandListDx12::Reset}}() \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00056}00056     commandPool-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_pool_dx12_a1e399b93e2df637f2ca055b660a37f02}{GetCommandAllocator}}()-\/>Reset();}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00057}00057     commandList-\/>Reset(commandPool-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_pool_dx12_a1e399b93e2df637f2ca055b660a37f02}{GetCommandAllocator}}(), \textcolor{keyword}{nullptr});}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00058}00058 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00059}00059 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00060}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_aa1cb8f548c08c6d2105f99ceda562582}{00060}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_aa1cb8f548c08c6d2105f99ceda562582}{CommandListDx12::Start}}() \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00061}00061     }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00062}00062 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00063}00063 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00064}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_af236e3ff5d3bf1b8ced471a2fd9c4ed7}{00064}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_af236e3ff5d3bf1b8ced471a2fd9c4ed7}{CommandListDx12::Close}}() \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00065}00065     commandList-\/>Close();}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00066}00066 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00067}00067 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00068}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_aa5e99ae1fbcae83b1d4ac0d4c385933d}{00068}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_aa5e99ae1fbcae83b1d4ac0d4c385933d}{CommandListDx12::SetGpuImageBarrier}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image}{GpuImage}}* image, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a20f40e3d3e967090ee1884e0c77b9df9}{GpuImageLayout}} previousLayout, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a20f40e3d3e967090ee1884e0c77b9df9}{GpuImageLayout}} nextLayout, \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}} previous, \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}} next, \textcolor{keyword}{const} \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_barrier_info}{GpuImageBarrierInfo}}\& prevImageInfo) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00069}00069     ID3D12Resource* resource = image-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a6bc3268b57ede5f9f0541b20d12dfea0}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12}{GpuImageDx12}}>()-\/>GetResource();}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00070}00070     }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00071}00071     D3D12\_RESOURCE\_BARRIER barrierInfo\{\};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00072}00072     barrierInfo.Type = D3D12\_RESOURCE\_BARRIER\_TYPE\_TRANSITION;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00073}00073     barrierInfo.Flags = D3D12\_RESOURCE\_BARRIER\_FLAG\_NONE;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00074}00074     barrierInfo.Transition.pResource = resource;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00075}00075     barrierInfo.Transition.StateBefore = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_acf9b4413f63c5494786640270a4fafcb}{GetGpuImageLayoutDx12}}(previousLayout);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00076}00076     barrierInfo.Transition.StateAfter = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_acf9b4413f63c5494786640270a4fafcb}{GetGpuImageLayoutDx12}}(nextLayout);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00077}00077     barrierInfo.Transition.Subresource = D3D12\_RESOURCE\_BARRIER\_ALL\_SUBRESOURCES;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00078}00078 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00079}00079     commandList-\/>ResourceBarrier(1, \&barrierInfo);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00080}00080 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00081}00081     image-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a97171829d26c35669ca2df87a8fc5389}{SetLayout}}(nextLayout);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00082}00082 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00083}00083 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00084}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a4b89d32326161602a638dd6e80d79fef}{00084}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a4b89d32326161602a638dd6e80d79fef}{CommandListDx12::CopyBufferToImage}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_data_buffer}{GpuDataBuffer}}* source, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image}{GpuImage}}* dest, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} layer, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} offset) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00085}00085     D3D12\_TEXTURE\_COPY\_LOCATION copyDest\{\};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00086}00086     copyDest.Type = D3D12\_TEXTURE\_COPY\_TYPE\_SUBRESOURCE\_INDEX;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00087}00087     copyDest.SubresourceIndex = layer;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00088}00088     copyDest.pResource = dest-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a3c0d6c282ad6b6d21ad25bfecac502b6}{GetBuffer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_a184a8433d5967eea3dd00fd988d3dff2}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12}{GpuMemorySubblockDx12}}>()-\/>GetResource();}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00089}00089 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00090}00090     D3D12\_TEXTURE\_COPY\_LOCATION copySource\{\};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00091}00091     copySource.Type = D3D12\_TEXTURE\_COPY\_TYPE\_PLACED\_FOOTPRINT;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00092}00092     copySource.pResource = source-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_data_buffer_a0e688b372c65d28e21d562528355a08d}{GetMemorySubblock}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_a184a8433d5967eea3dd00fd988d3dff2}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12}{GpuMemorySubblockDx12}}>()-\/>GetResource();}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00093}00093     copySource.PlacedFootprint.Footprint.Depth = 1;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00094}00094     copySource.PlacedFootprint.Footprint.Format = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a100a7488e1eee158da65062d0b5e5277}{GetFormatDx12}}(dest-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a7fbd0307d9e9147312004fecca6b73ba}{GetFormat}}());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00095}00095     copySource.PlacedFootprint.Footprint.Width = dest-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a244ebc8ce3ae3095698ea0c3eaba58fc}{GetSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector3__t_a9dd92e8b519b62ce53eb71f58eba6d50}{X}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00096}00096     copySource.PlacedFootprint.Footprint.Height = dest-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a010e504f13e07ce86e1d82e344493860}{GetPhysicalSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector3__t_afb19e7227d4047f7a666c03cea2b1658}{Y}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00097}00097     copySource.PlacedFootprint.Footprint.RowPitch = dest-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a010e504f13e07ce86e1d82e344493860}{GetPhysicalSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector3__t_a9dd92e8b519b62ce53eb71f58eba6d50}{X}} * \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_abd894ab72db6cb1f2762684830d7354c}{GetFormatNumberOfBytes}}(dest-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a7fbd0307d9e9147312004fecca6b73ba}{GetFormat}}());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00098}00098     copySource.PlacedFootprint.Offset = offset;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00099}00099 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00100}00100     commandList-\/>CopyTextureRegion(\&copyDest, 0, 0, 0, \&copySource, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00101}00101 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00102}00102 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00103}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a7cb33b674e3c5e14394363190ed7bad0}{00103}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a7cb33b674e3c5e14394363190ed7bad0}{CommandListDx12::CopyImageToImage}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image}{GpuImage}}* source, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image}{GpuImage}}* destination, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} numLayers, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} srcStartLayer, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} dstStartLayer, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} srcMipLevel, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} dstMipLevel, \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2ui}} copySize) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00104}00104     D3D12\_TEXTURE\_COPY\_LOCATION copyDest\{\};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00105}00105     copyDest.Type = D3D12\_TEXTURE\_COPY\_TYPE\_SUBRESOURCE\_INDEX;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00106}00106     copyDest.SubresourceIndex = dstStartLayer;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00107}00107     copyDest.pResource = destination-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a3c0d6c282ad6b6d21ad25bfecac502b6}{GetBuffer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_a184a8433d5967eea3dd00fd988d3dff2}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12}{GpuMemorySubblockDx12}}>()-\/>GetResource();}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00108}00108 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00109}00109     D3D12\_TEXTURE\_COPY\_LOCATION copySource\{\};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00110}00110     copySource.Type = D3D12\_TEXTURE\_COPY\_TYPE\_SUBRESOURCE\_INDEX;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00111}00111     copySource.SubresourceIndex = srcStartLayer;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00112}00112     copySource.pResource = source-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a3c0d6c282ad6b6d21ad25bfecac502b6}{GetBuffer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_a184a8433d5967eea3dd00fd988d3dff2}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12}{GpuMemorySubblockDx12}}>()-\/>GetResource();}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00113}00113     }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00114}00114     D3D12\_BOX copyRegion\{\};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00115}00115     copyRegion.left = 0;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00116}00116     copyRegion.right = copySize.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00117}00117     copyRegion.top = 0;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00118}00118     copyRegion.bottom = copySize.\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00119}00119     copyRegion.back = 1;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00120}00120     copyRegion.front = 0;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00121}00121 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00122}00122     commandList-\/>CopyTextureRegion(\&copyDest, 0, 0, 0, \&copySource, \&copyRegion);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00123}00123 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00124}00124 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00125}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_ae3c08439df0f986e7a2e30e50f13bc91}{00125}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_ae3c08439df0f986e7a2e30e50f13bc91}{CommandListDx12::BeginGraphicsRenderpass}}(\mbox{\hyperlink{class_o_s_k_1_1_dynamic_array}{DynamicArray<RenderPassImageInfo>}} colorImages, \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_pass_image_info}{RenderPassImageInfo}} depthImage, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_color}{Color}}\& color) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00126}00126     \mbox{\hyperlink{class_o_s_k_1_1_dynamic_array}{DynamicArray<D3D12\_CPU\_DESCRIPTOR\_HANDLE>}} colorAttachments\{\};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00127}00127     D3D12\_CPU\_DESCRIPTOR\_HANDLE depthStencilDesc\{\};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00128}00128 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00129}00129     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a32e5847e802024bcd2fc7cc5215c733a}{currentRenderpassType}}== \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a68c7e70128c792c56815e41b7f9c5fefa6c8361dc2036c0559376fe4957699f69}{RenderpassType::FINAL}}) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00130}00130         \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12}{SwapchainDx12}}* swapchain = \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a0dad039a7b86341155a12030a504e764}{\_GetSwapchain}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a04699bb97612d6142b1a5895fdeeaf24}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12}{SwapchainDx12}}>();}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00131}00131 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00132}00132         colorAttachments.Insert(swapchain-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_a9c0ad49dec6559c30c63442858aad650}{GetRenderTargetMemory}}()-\/>GetCPUDescriptorHandleForHeapStart());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00133}00133         colorAttachments[0].ptr += ((SIZE\_T)swapchain-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_abbf1668873549c12b0bc43afd19304a3}{GetCurrentFrameIndex}}()) *}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00134}00134             \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a7e06601c9bc5325e2ee5904e58a3af3d}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_renderer_dx12}{RendererDx12}}>()-\/>GetGpu()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a7e06601c9bc5325e2ee5904e58a3af3d}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()-\/>GetDescriptorHandleIncrementSize(D3D12\_DESCRIPTOR\_HEAP\_TYPE\_RTV);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00135}00135 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00136}00136         depthStencilDesc = swapchain-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_swapchain_dx12_afbcba548854002631cd026be996e5318}{GetDepthStencilMemory}}()-\/>GetCPUDescriptorHandleForHeapStart();}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00137}00137         depthStencilDesc.ptr += ((SIZE\_T)swapchain-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_abbf1668873549c12b0bc43afd19304a3}{GetCurrentFrameIndex}}()) *}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00138}00138             \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a7e06601c9bc5325e2ee5904e58a3af3d}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_renderer_dx12}{RendererDx12}}>()-\/>GetGpu()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a7e06601c9bc5325e2ee5904e58a3af3d}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()-\/>GetDescriptorHandleIncrementSize(D3D12\_DESCRIPTOR\_HEAP\_TYPE\_DSV);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00139}00139     \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00140}00140     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00141}00141         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [image, layer] : colorImages)}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00142}00142             colorAttachments.Insert(image-\/>GetView(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a02ed44392ae1f51786ead8911c3afe9da04bd834032febb3fda8c6936ee140949}{SampledChannel::COLOR}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39a827be7f5269fdb21e2fb90ab4f60e785}{SampledArrayType::SINGLE\_LAYER}}, layer, 1, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ade40ecf1619c14b53344301c1eca1bcaadf45780d7dc144f8c73766fae316d606}{ViewUsage::COLOR\_TARGET}})}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00143}00143                 -\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_view_dx12}{GpuImageViewDx12}}>()-\/>GetCpuAddress());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00144}00144 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00145}00145         depthStencilDesc = depthImage.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_pass_image_info_a61ecd6cca7cd6077846fec3fadadb084}{targetImage}}-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_aa1084f28e42d5b2d03ac2a831ac395e1}{GetView}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a02ed44392ae1f51786ead8911c3afe9daaa1780b4fcce2d5d9af13dc25386d111}{SampledChannel::DEPTH}} | \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a02ed44392ae1f51786ead8911c3afe9da301b25ea9a653329b5d5d727f92514c4}{SampledChannel::STENCIL}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39a827be7f5269fdb21e2fb90ab4f60e785}{SampledArrayType::SINGLE\_LAYER}}, depthImage.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_pass_image_info_a870b6478e66f3abf1aa43f0cf7771368}{arrayLevel}}, 1, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ade40ecf1619c14b53344301c1eca1bcaaad449a013a6d7a34d5ea38b6263ff6d8}{ViewUsage::DEPTH\_STENCIL\_TARGET}})}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00146}00146             -\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_view_dx12}{GpuImageViewDx12}}>()-\/>GetCpuAddress();}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00147}00147     \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00148}00148 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00149}00149     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& img : colorImages) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00150}00150         \textcolor{keyword}{const} \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}} prev(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7a5b39c8b553c821e7cddc6da64b5bd2ee}{GpuBarrierStage::DEFAULT}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fdda5b39c8b553c821e7cddc6da64b5bd2ee}{GpuBarrierAccessStage::DEFAULT}});}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00151}00151         \textcolor{keyword}{const} \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}} next(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7a8d2880f2cd7f8d74c139dae619771f0b}{GpuBarrierStage::COLOR\_ATTACHMENT\_OUTPUT}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fdda2d5975adc5f0129364458ddedfaaa88e}{GpuBarrierAccessStage::COLOR\_ATTACHMENT\_WRITE}});}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00152}00152         \textcolor{keyword}{const} \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_barrier_info}{GpuImageBarrierInfo}} imgInfo = \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00153}00153             .\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_barrier_info_a89f637c4de7944fc1228348171b23830}{baseLayer}} = img.arrayLevel,}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00154}00154             .numLayers = 1,}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00155}00155             .baseMipLevel = 0,}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00156}00156             .numMipLevels = 1,}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00157}00157         \};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00158}00158 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00159}00159         \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_aa5e99ae1fbcae83b1d4ac0d4c385933d}{SetGpuImageBarrier}}(img.targetImage, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a20f40e3d3e967090ee1884e0c77b9df9a0db45d2a4141101bdfe48e3314cfbca3}{GpuImageLayout::UNDEFINED}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a20f40e3d3e967090ee1884e0c77b9df9aa63816e658355cace69f46e9242fed85}{GpuImageLayout::COLOR\_ATTACHMENT}}, prev, next, imgInfo);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00160}00160     \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00161}00161 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00162}00162     \textcolor{keyword}{const} FLOAT clearValue[] = \{ color.\mbox{\hyperlink{class_o_s_k_1_1_color_ad884ccf8ad4af6502f8026d7e086411f}{Red}}, color.\mbox{\hyperlink{class_o_s_k_1_1_color_ab90f8ead6ff695ca66208644b351855c}{Green}}, color.\mbox{\hyperlink{class_o_s_k_1_1_color_a614da6bd0a19bd1099faca04bbc8809d}{Blue}}, color.\mbox{\hyperlink{class_o_s_k_1_1_color_a0472d3d0429df1740a78158c7815ab9b}{Alpha}} \};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00163}00163     }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00164}00164     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} colorAttachment : colorAttachments)}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00165}00165         commandList-\/>ClearRenderTargetView(colorAttachment, clearValue, 0, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00166}00166     commandList-\/>ClearDepthStencilView(depthStencilDesc, D3D12\_CLEAR\_FLAG\_DEPTH, 1.0f, 0, 0, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00167}00167 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00168}00168     commandList-\/>OMSetRenderTargets(colorAttachments.GetSize(), colorAttachments.GetData(), FALSE, \&depthStencilDesc);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00169}00169 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00170}00170     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a02c47b88c3dc12edf97b63bf9cfaf1e1}{currentColorImages}} = std::move(colorImages);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00171}00171     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_aa3afac2fc07d160a8f9ea58fbcf4f745}{currentDepthImage}} = depthImage;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00172}00172 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00173}00173 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00174}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a6999a57609ee570303603bcf846a7eff}{00174}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a6999a57609ee570303603bcf846a7eff}{CommandListDx12::EndGraphicsRenderpass}}() \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00175}00175     \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a20f40e3d3e967090ee1884e0c77b9df9}{GpuImageLayout}} finalLayout = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a20f40e3d3e967090ee1884e0c77b9df9a22cd9239bff154eb77127f467855ab94}{GpuImageLayout::SHADER\_READ\_ONLY}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00176}00176     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a32e5847e802024bcd2fc7cc5215c733a}{currentRenderpassType}} == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a68c7e70128c792c56815e41b7f9c5fefa6c8361dc2036c0559376fe4957699f69}{RenderpassType::FINAL}})}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00177}00177         finalLayout = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a20f40e3d3e967090ee1884e0c77b9df9a720ff3fec5d13dcf3d3aec6d5726fc36}{GpuImageLayout::PRESENT}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00178}00178 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00179}00179     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& img : \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a02c47b88c3dc12edf97b63bf9cfaf1e1}{currentColorImages}}) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00180}00180         \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}} prevBarrier\{\};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00181}00181         prevBarrier.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info_a377ec6b1294f4cbd0dc5f1243606b832}{stage}} = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7a8d2880f2cd7f8d74c139dae619771f0b}{GpuBarrierStage::COLOR\_ATTACHMENT\_OUTPUT}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00182}00182         prevBarrier.accessStage = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fdda2d5975adc5f0129364458ddedfaaa88e}{GpuBarrierAccessStage::COLOR\_ATTACHMENT\_WRITE}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00183}00183 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00184}00184         \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}} nextBarrier\{\};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00185}00185         nextBarrier.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info_a377ec6b1294f4cbd0dc5f1243606b832}{stage}} = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a5c67a4dab480f62eb6083332acdcb8c7a8d2880f2cd7f8d74c139dae619771f0b}{GpuBarrierStage::COLOR\_ATTACHMENT\_OUTPUT}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00186}00186         nextBarrier.accessStage = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a3001155dae3ee09f282cdc4e21196fddaf7fa6448008bb7c923369ea64e315518}{GpuBarrierAccessStage::SHADER\_READ}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00187}00187 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00188}00188         \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_barrier_info}{GpuImageBarrierInfo}} imgBarrier\{\};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00189}00189         imgBarrier.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_barrier_info_a89f637c4de7944fc1228348171b23830}{baseLayer}} = img.arrayLevel;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00190}00190         imgBarrier.numLayers = 1;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00191}00191         imgBarrier.baseMipLevel = 0;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00192}00192         imgBarrier.numMipLevels = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_af4ec621c557d492c7de3493e2b2bd1a9}{ALL\_MIP\_LEVELS}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00193}00193 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00194}00194         \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_aa5e99ae1fbcae83b1d4ac0d4c385933d}{SetGpuImageBarrier}}(img.targetImage, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a20f40e3d3e967090ee1884e0c77b9df9aa63816e658355cace69f46e9242fed85}{GpuImageLayout::COLOR\_ATTACHMENT}}, finalLayout, prevBarrier, nextBarrier, imgBarrier);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00195}00195     \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00196}00196 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00197}00197     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a32e5847e802024bcd2fc7cc5215c733a}{currentRenderpassType}} != \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a68c7e70128c792c56815e41b7f9c5fefa41dc7c9e385c4d2b6c1f7836973951bf}{RenderpassType::INTERMEDIATE}})}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00198}00198         \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a32e5847e802024bcd2fc7cc5215c733a}{currentRenderpassType}} = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a68c7e70128c792c56815e41b7f9c5fefa41dc7c9e385c4d2b6c1f7836973951bf}{RenderpassType::INTERMEDIATE}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00199}00199 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00200}00200 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00201}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_af44da96c92ce9b2fec4ed8e322c9147c}{00201}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_af44da96c92ce9b2fec4ed8e322c9147c}{CommandListDx12::ResourceBarrier}}(ID3D12Resource* resource, D3D12\_RESOURCE\_STATES from, D3D12\_RESOURCE\_STATES to) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00202}00202     D3D12\_RESOURCE\_BARRIER barrier\{\};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00203}00203     barrier.Type = D3D12\_RESOURCE\_BARRIER\_TYPE\_TRANSITION;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00204}00204     barrier.Flags = D3D12\_RESOURCE\_BARRIER\_FLAG\_NONE;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00205}00205     barrier.Transition.pResource = resource;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00206}00206     barrier.Transition.StateBefore = from;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00207}00207     barrier.Transition.StateAfter = to;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00208}00208     barrier.Transition.Subresource = D3D12\_RESOURCE\_BARRIER\_ALL\_SUBRESOURCES;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00209}00209 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00210}00210     commandList-\/>ResourceBarrier(1, \&barrier);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00211}00211 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00212}00212 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00213}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_adba475156d7a3e34acb0823206907e79}{00213}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_adba475156d7a3e34acb0823206907e79}{CommandListDx12::BindMaterial}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material}{Material}}* material) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00214}00214     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a38a16050295d9b1591859ddce9f8668e}{currentMaterial}} = material;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00215}00215 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00216}00216     \textcolor{keywordflow}{switch} (material-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_af145277bed3af0474a0e1abbd2a12fac}{GetMaterialType}}()) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00217}00217     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aad769de4b6a68624571ab3ae7ec13f97a6f49448c79d7d58c6e60cf7129b84d1c}{MaterialType::GRAPHICS}}: \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00218}00218         \mbox{\hyperlink{class_o_s_k_1_1_dynamic_array}{DynamicArray<Format>}} colorFormats\{\};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00219}00219         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& colorImg : \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a02c47b88c3dc12edf97b63bf9cfaf1e1}{currentColorImages}})}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00220}00220             colorFormats.\mbox{\hyperlink{class_o_s_k_1_1_dynamic_array_a2c1e7bd2efbadf8b163f67c26921ba53}{Insert}}(colorImg.targetImage-\/>GetFormat());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00221}00221 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00222}00222         \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a464e4eb351aea615c761715190fd99c1}{currentPipeline}}.graphics = material-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_a39d6bc2358c846834fe3750122f68c67}{GetGraphicsPipeline}}(colorFormats);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00223}00223 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00224}00224         commandList-\/>SetGraphicsRootSignature(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a464e4eb351aea615c761715190fd99c1}{currentPipeline}}.graphics-\/>GetLayout()-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_pipeline_layout_dx12}{PipelineLayoutDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_pipeline_layout_dx12_a97ab9e5afdc21c0a446f7f72bad8c1a7}{GetSignature}}());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00225}00225         commandList-\/>SetPipelineState(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a464e4eb351aea615c761715190fd99c1}{currentPipeline}}.graphics-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_graphics_pipeline_dx12}{GraphicsPipelineDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_pipeline_dx12_ab27afb785ce3f3e1f0f647d9273eb2c4}{GetPipeline}}());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00226}00226 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00227}00227         commandList-\/>IASetPrimitiveTopology(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a464e4eb351aea615c761715190fd99c1}{currentPipeline}}.graphics-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_graphics_pipeline_dx12}{GraphicsPipelineDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_graphics_pipeline_dx12_aeb396d39dc237a97a3474ac338023f3b}{GetTopologyType}}());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00228}00228     \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00229}00229         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00230}00230 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00231}00231     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aad769de4b6a68624571ab3ae7ec13f97aaeeda410acf56610eb5dc54402a952d9}{MaterialType::RAYTRACING}}:}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00232}00232         \mbox{\hyperlink{_assert_8h_adfbccaec84df99b8277f9d877554170c}{OSK\_ASSERT}}(\textcolor{keyword}{false}, \textcolor{stringliteral}{"{}Raytracing no soportado."{}});}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00233}00233 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00234}00234         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00235}00235 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00236}00236     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aad769de4b6a68624571ab3ae7ec13f97aac404d7ce6ca5862e9b8a2641fbafd90}{MaterialType::COMPUTE}}:}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00237}00237         \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a464e4eb351aea615c761715190fd99c1}{currentPipeline}}.compute = material-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_af6fed9156170cd97b18cc42c7e60c952}{GetComputePipeline}}();}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00238}00238         }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00239}00239         commandList-\/>SetComputeRootSignature(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a464e4eb351aea615c761715190fd99c1}{currentPipeline}}.graphics-\/>GetLayout()-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_pipeline_layout_dx12}{PipelineLayoutDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_pipeline_layout_dx12_a97ab9e5afdc21c0a446f7f72bad8c1a7}{GetSignature}}());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00240}00240         commandList-\/>SetPipelineState(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a464e4eb351aea615c761715190fd99c1}{currentPipeline}}.graphics-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_graphics_pipeline_dx12}{GraphicsPipelineDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_pipeline_dx12_ab27afb785ce3f3e1f0f647d9273eb2c4}{GetPipeline}}());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00241}00241 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00242}00242         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00243}00243     \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00244}00244 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00245}00245 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00246}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a78c3c7ff04b7f73da8f0e555f4d7da2c}{00246}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a78c3c7ff04b7f73da8f0e555f4d7da2c}{CommandListDx12::BindVertexBuffer}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_vertex_buffer}{IGpuVertexBuffer}}* buffer) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00247}00247     D3D12\_VERTEX\_BUFFER\_VIEW views[] = \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00248}00248         buffer-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_vertex_buffer_a33bc8c6062a92079aec9d14eee48b832}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_vertex_buffer_dx12}{GpuVertexBufferDx12}}>()-\/>GetView()}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00249}00249     \};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00250}00250 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00251}00251     commandList-\/>IASetVertexBuffers(0, 1, views);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00252}00252 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00253}00253 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00254}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a75ba4f8260802186c96698f7f5e913a3}{00254}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a75ba4f8260802186c96698f7f5e913a3}{CommandListDx12::BindIndexBuffer}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_index_buffer}{IGpuIndexBuffer}}* buffer) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00255}00255     commandList-\/>IASetIndexBuffer(buffer-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_index_buffer_af755613ed6b614d09310f7d1686a6dc8}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_index_buffer_dx12}{GpuIndexBufferDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_index_buffer_dx12_a9ec171d0a8f22d7215f0e039b08b2c8f}{GetView}}());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00256}00256 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00257}00257 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00258}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a91bb2e65a00b95212c04426c942c1105}{00258}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a91bb2e65a00b95212c04426c942c1105}{CommandListDx12::BindMaterialSlot}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_material_slot}{IMaterialSlot}}* slot) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00259}00259     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [index, buffer] : slot-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_material_slot_af2d37e6bc927e323f076e07508455f28}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_slot_dx12}{MaterialSlotDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_slot_dx12_a57e87e7a9bac2871336899e6842e583e}{GetUniformBuffers}}()) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00260}00260         \textcolor{keywordflow}{if} (buffer != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00261}00261             \textcolor{keywordflow}{switch} (\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a38a16050295d9b1591859ddce9f8668e}{currentMaterial}}-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_af145277bed3af0474a0e1abbd2a12fac}{GetMaterialType}}())   \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00262}00262             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aad769de4b6a68624571ab3ae7ec13f97a6f49448c79d7d58c6e60cf7129b84d1c}{MaterialType::GRAPHICS}}:}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00263}00263                 commandList-\/>SetGraphicsRootConstantBufferView(index,}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00264}00264                     buffer-\/>GetMemorySubblock()-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12}{GpuMemorySubblockDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_aeed70f548ec527591047d3bcb3764c0e}{GetResource}}()-\/>GetGPUVirtualAddress());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00265}00265                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00266}00266             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aad769de4b6a68624571ab3ae7ec13f97aac404d7ce6ca5862e9b8a2641fbafd90}{MaterialType::COMPUTE}}:}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00267}00267                 commandList-\/>SetComputeRootConstantBufferView(index,}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00268}00268                     buffer-\/>GetMemorySubblock()-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12}{GpuMemorySubblockDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_aeed70f548ec527591047d3bcb3764c0e}{GetResource}}()-\/>GetGPUVirtualAddress());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00269}00269                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00270}00270             \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00271}00271         \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00272}00272     \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00273}00273 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00274}00274     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [index, buffer] : slot-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_material_slot_af2d37e6bc927e323f076e07508455f28}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_slot_dx12}{MaterialSlotDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_slot_dx12_aea6d7c108f29a0a4b77602745063ed21}{GetStorageBuffers}}()) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00275}00275         \textcolor{keywordflow}{if} (buffer != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00276}00276             \textcolor{keywordflow}{switch} (\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a38a16050295d9b1591859ddce9f8668e}{currentMaterial}}-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_af145277bed3af0474a0e1abbd2a12fac}{GetMaterialType}}()) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00277}00277             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aad769de4b6a68624571ab3ae7ec13f97a6f49448c79d7d58c6e60cf7129b84d1c}{MaterialType::GRAPHICS}}:}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00278}00278                 commandList-\/>SetGraphicsRootUnorderedAccessView(index,}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00279}00279                     buffer-\/>GetMemorySubblock()-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12}{GpuMemorySubblockDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_aeed70f548ec527591047d3bcb3764c0e}{GetResource}}()-\/>GetGPUVirtualAddress());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00280}00280                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00281}00281             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aad769de4b6a68624571ab3ae7ec13f97aac404d7ce6ca5862e9b8a2641fbafd90}{MaterialType::COMPUTE}}:}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00282}00282                 commandList-\/>SetComputeRootUnorderedAccessView(index,}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00283}00283                     buffer-\/>GetMemorySubblock()-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12}{GpuMemorySubblockDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_aeed70f548ec527591047d3bcb3764c0e}{GetResource}}()-\/>GetGPUVirtualAddress());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00284}00284                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00285}00285             \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00286}00286         \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00287}00287     \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00288}00288 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00289}00289     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [index, image] : slot-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_material_slot_af2d37e6bc927e323f076e07508455f28}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_slot_dx12}{MaterialSlotDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_slot_dx12_a7d1a4be34395853243fcf9a8719bec35}{GetGpuImages}}()) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00290}00290         \textcolor{keywordflow}{if} (image != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00291}00291             \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_view_dx12}{GpuImageViewDx12}}* view = image-\/>GetView(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a02ed44392ae1f51786ead8911c3afe9da04bd834032febb3fda8c6936ee140949}{SampledChannel::COLOR}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39a827be7f5269fdb21e2fb90ab4f60e785}{SampledArrayType::SINGLE\_LAYER}}, 0, 1, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ade40ecf1619c14b53344301c1eca1bcaa5d0791856a3081df75c6093017a61a36}{ViewUsage::SAMPLED}})-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_view_dx12}{GpuImageViewDx12}}>();}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00292}00292 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00293}00293             ID3D12DescriptorHeap* heaps[] = \{ view-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_view_dx12_ad29f7a237d4a65b00c122f00756b0a99}{GetDescriptorHeap}}() \};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00294}00294 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00295}00295             commandList-\/>SetDescriptorHeaps(1, heaps);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00296}00296             }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00297}00297             \textcolor{keywordflow}{switch} (\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a38a16050295d9b1591859ddce9f8668e}{currentMaterial}}-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_af145277bed3af0474a0e1abbd2a12fac}{GetMaterialType}}()) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00298}00298             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aad769de4b6a68624571ab3ae7ec13f97a6f49448c79d7d58c6e60cf7129b84d1c}{MaterialType::GRAPHICS}}:}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00299}00299                 commandList-\/>SetGraphicsRootDescriptorTable(index, view-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_view_dx12_a1247f583d75c2d8b00e810e78b133122}{GetGpuAddress}}());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00300}00300                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00301}00301             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aad769de4b6a68624571ab3ae7ec13f97aac404d7ce6ca5862e9b8a2641fbafd90}{MaterialType::COMPUTE}}:}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00302}00302                 commandList-\/>SetComputeRootDescriptorTable(index, view-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_view_dx12_a1247f583d75c2d8b00e810e78b133122}{GetGpuAddress}}());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00303}00303                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00304}00304             \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00305}00305         \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00306}00306     \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00307}00307 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00308}00308     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& [index, image] : slot-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_material_slot_af2d37e6bc927e323f076e07508455f28}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_slot_dx12}{MaterialSlotDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_slot_dx12_aea6d7c108f29a0a4b77602745063ed21}{GetStorageBuffers}}()) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00309}00309         \textcolor{keywordflow}{if} (image != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00310}00310             \textcolor{keywordflow}{switch} (\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a38a16050295d9b1591859ddce9f8668e}{currentMaterial}}-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_af145277bed3af0474a0e1abbd2a12fac}{GetMaterialType}}()) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00311}00311             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aad769de4b6a68624571ab3ae7ec13f97a6f49448c79d7d58c6e60cf7129b84d1c}{MaterialType::GRAPHICS}}:}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00312}00312                 commandList-\/>SetGraphicsRootUnorderedAccessView(index,}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00313}00313                     image-\/>GetMemorySubblock()-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12}{GpuMemorySubblockDx12}}>()-\/>GetResource()-\/>GetGPUVirtualAddress());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00314}00314                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00315}00315             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aad769de4b6a68624571ab3ae7ec13f97aac404d7ce6ca5862e9b8a2641fbafd90}{MaterialType::COMPUTE}}:}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00316}00316                 commandList-\/>SetComputeRootUnorderedAccessView(index,}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00317}00317                     image-\/>GetMemorySubblock()-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12}{GpuMemorySubblockDx12}}>()-\/>GetResource()-\/>GetGPUVirtualAddress());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00318}00318                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00319}00319             \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00320}00320         \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00321}00321     \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00322}00322 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00323}00323 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00324}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a33e4345c2ec143c94ea24051cb921949}{00324}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a33e4345c2ec143c94ea24051cb921949}{CommandListDx12::PushMaterialConstants}}(\textcolor{keyword}{const} std::string\& pushConstName, \textcolor{keyword}{const} \textcolor{keywordtype}{void}* data, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} size, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} offset) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00325}00325     \textcolor{keyword}{auto}\& pushConst = \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a38a16050295d9b1591859ddce9f8668e}{currentMaterial}}-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_a29f2fe999bf8857dbbb65fb73df335ca}{GetLayout}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_material_layout_a2569f4386c935be6c948ac9a3fd6998e}{GetPushConstant}}(pushConstName);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00326}00326 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00327}00327     \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} nSize = size / 4;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00328}00328     \textcolor{keywordflow}{if} (size \% 4)}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00329}00329         nSize++;}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00330}00330 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00331}00331     commandList-\/>SetGraphicsRoot32BitConstants(pushConst.hlslBindingIndex, nSize, data, pushConst.offset + offset);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00332}00332 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00333}00333 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00334}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a42c61c7eb0f7ceb3a143b1a1a6ab870b}{00334}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a42c61c7eb0f7ceb3a143b1a1a6ab870b}{CommandListDx12::BindUniformBufferDx12}}(\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} index, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_uniform_buffer_dx12}{GpuUniformBufferDx12}}* buffer) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00335}00335     commandList-\/>SetGraphicsRootConstantBufferView(index,}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00336}00336         buffer-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_data_buffer_a0e688b372c65d28e21d562528355a08d}{GetMemorySubblock}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_a184a8433d5967eea3dd00fd988d3dff2}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12}{GpuMemorySubblockDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_aeed70f548ec527591047d3bcb3764c0e}{GetResource}}()-\/>GetGPUVirtualAddress());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00337}00337 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00338}00338 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00339}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a8dba675ac31600b4c0bbab76b22c0f8d}{00339}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a8dba675ac31600b4c0bbab76b22c0f8d}{CommandListDx12::DrawSingleInstance}}(\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} numIndices) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00340}00340     commandList-\/>DrawIndexedInstanced(numIndices, 1, 0, 0, 0);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00341}00341 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00342}00342 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00343}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a7f68fd5258093b3d128dbf7f80bc53c1}{00343}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a7f68fd5258093b3d128dbf7f80bc53c1}{CommandListDx12::DrawSingleMesh}}(\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} firstIndex, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} numIndices) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00344}00344     commandList-\/>DrawIndexedInstanced(numIndices, 1, firstIndex, 0, 0);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00345}00345 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00346}00346 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00347}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_af3833c51984818038a00e26361a6e92a}{00347}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_af3833c51984818038a00e26361a6e92a}{CommandListDx12::TraceRays}}(\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} raygenEntry, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} closestHitEntry, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} missEntry, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2ui}}\& resolution) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00348}00348     \mbox{\hyperlink{_assert_8h_adfbccaec84df99b8277f9d877554170c}{OSK\_ASSERT}}(\textcolor{keyword}{false}, \textcolor{stringliteral}{"{}No implementado."{}});}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00349}00349 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00350}00350 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00351}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_aaaa724e9334b0281d5a72c5eec838e1b}{00351}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_aaaa724e9334b0281d5a72c5eec838e1b}{CommandListDx12::DispatchCompute}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector3__t}{Vector3ui}}\& groupCount) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00352}00352     \mbox{\hyperlink{_assert_8h_adfbccaec84df99b8277f9d877554170c}{OSK\_ASSERT}}(\textcolor{keyword}{false}, \textcolor{stringliteral}{"{}No implementado."{}});}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00353}00353 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00354}00354 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00355}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_aad3dd1ccf00cad575469cb2a77371184}{00355}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_aad3dd1ccf00cad575469cb2a77371184}{CommandListDx12::BindComputePipeline}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_compute_pipeline}{IComputePipeline}}\& pipeline) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00356}00356     \mbox{\hyperlink{_assert_8h_adfbccaec84df99b8277f9d877554170c}{OSK\_ASSERT}}(\textcolor{keyword}{false}, \textcolor{stringliteral}{"{}No implementado."{}});}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00357}00357 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00358}00358 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00359}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a1087b08b918688640e1ab66ea43ed5ff}{00359}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a1087b08b918688640e1ab66ea43ed5ff}{CommandListDx12::SetViewport}}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_viewport}{Viewport}}\& vp) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00360}00360     D3D12\_VIEWPORT viewport\{\};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00361}00361 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00362}00362     viewport.TopLeftX = (FLOAT)vp.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_viewport_a3a44365634cd80baebfa85c16d3339d9}{rectangle}}.\mbox{\hyperlink{class_o_s_k_1_1_vector4__t_a5e636ce8403b0b63545ffcb296381890}{GetRectanglePosition}}().\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00363}00363     viewport.TopLeftY = (FLOAT)vp.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_viewport_a3a44365634cd80baebfa85c16d3339d9}{rectangle}}.\mbox{\hyperlink{class_o_s_k_1_1_vector4__t_a5e636ce8403b0b63545ffcb296381890}{GetRectanglePosition}}().\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00364}00364     viewport.Width = (FLOAT)vp.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_viewport_a3a44365634cd80baebfa85c16d3339d9}{rectangle}}.\mbox{\hyperlink{class_o_s_k_1_1_vector4__t_a96bdc916373a99e5b58ad770fa9b271e}{GetRectangleSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00365}00365     viewport.Height = (FLOAT)vp.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_viewport_a3a44365634cd80baebfa85c16d3339d9}{rectangle}}.\mbox{\hyperlink{class_o_s_k_1_1_vector4__t_a96bdc916373a99e5b58ad770fa9b271e}{GetRectangleSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00366}00366 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00367}00367     viewport.MinDepth = vp.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_viewport_af6a903fd2845a147d6a3c4d4cea182a3}{minDepth}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00368}00368     viewport.MaxDepth = vp.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_viewport_a1e103162b12bd1a2a4b0634786befd5f}{maxDepth}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00369}00369 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00370}00370     commandList-\/>RSSetViewports(1, \&viewport);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00371}00371 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00372}00372 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00373}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_afe28fc16ef6b00db3c43868bd3c46183}{00373}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_afe28fc16ef6b00db3c43868bd3c46183}{CommandListDx12::SetScissor}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector4__t}{Vector4ui}}\& scissor) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00374}00374     D3D12\_RECT scissorRect\{\};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00375}00375 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00376}00376     scissorRect.left = scissor.\mbox{\hyperlink{class_o_s_k_1_1_vector4__t_a5e636ce8403b0b63545ffcb296381890}{GetRectanglePosition}}().\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00377}00377     scissorRect.top = scissor.\mbox{\hyperlink{class_o_s_k_1_1_vector4__t_a5e636ce8403b0b63545ffcb296381890}{GetRectanglePosition}}().\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00378}00378     scissorRect.right = scissor.\mbox{\hyperlink{class_o_s_k_1_1_vector4__t_a96bdc916373a99e5b58ad770fa9b271e}{GetRectangleSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_aab000bf2b18b21608055adaf4b8586b6}{X}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00379}00379     scissorRect.bottom = scissor.\mbox{\hyperlink{class_o_s_k_1_1_vector4__t_a96bdc916373a99e5b58ad770fa9b271e}{GetRectangleSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector2__t_ab320f5a65251faed82bd06dcbfabbdf5}{Y}};}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00380}00380 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00381}00381     commandList-\/>RSSetScissorRects(1, \&scissorRect);}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00382}00382 \}}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00383}00383 }
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00384}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a2b50ad5958b73d266bbe46a4eab1762c}{00384}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_command_list_dx12_a2b50ad5958b73d266bbe46a4eab1762c}{CommandListDx12::SetDebugName}}(\textcolor{keyword}{const} std::string\& name) \{}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00385}00385     commandList-\/>SetName(\mbox{\hyperlink{namespace_o_s_k_a543f1e2eaed4543c687adc9f9a0622ac}{StringToWideString}}(name).c\_str());}
\DoxyCodeLine{\Hypertarget{_command_list_dx12_8cpp_source_l00386}00386 \}}

\end{DoxyCode}
