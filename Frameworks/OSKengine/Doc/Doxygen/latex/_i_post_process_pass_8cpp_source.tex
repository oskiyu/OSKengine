\hypertarget{_i_post_process_pass_8cpp_source}{}\doxysection{IPost\+Process\+Pass.\+cpp}
\label{_i_post_process_pass_8cpp_source}\index{OSKengine2/IPostProcessPass.cpp@{OSKengine2/IPostProcessPass.cpp}}
\mbox{\hyperlink{_i_post_process_pass_8cpp}{Ir a la documentaci√≥n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_i_post_process_pass_8h}{IPostProcessPass.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00003}00003 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_o_s_kengine_8h}{OSKengine.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00004}00004 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_i_renderer_8h}{IRenderer.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00005}00005 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_material_8h}{Material.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00006}00006 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_material_system_8h}{MaterialSystem.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00008}00008 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k}{OSK}};}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00009}00009 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s}{OSK::GRAPHICS}};}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00011}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a92aa17faa014d558ac7cc79eb982c03c}{00011}} \textcolor{keywordtype}{void} IPostProcessPass::Create(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2ui}}\& size) \{}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00012}00012     \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_sampler_desc}{GpuImageSamplerDesc}} sampler\{\};}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00013}00013     sampler.\mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_sampler_desc_a5a47105ae69b63f01f5aea2ce71ac1ef}{addressMode}} = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ac1b7e80a6459c1c2dcff1fb7b4784ea2a6563b7570ee4add31ffc4e94fa86b6fb}{GpuImageAddressMode::EDGE}};}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00015}00015     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_aeb2b153e46784f2b55333cc63b19f605}{resolveRenderTarget}}.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_a32b0653cf595f5b089f5a56c7c2f3e41}{SetColorImageSampler}}(sampler);}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00016}00016     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_aeb2b153e46784f2b55333cc63b19f605}{resolveRenderTarget}}.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_a1821b6eb7adcf7e73caa73942f91f0d5}{SetTargetImageUsage}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaaac404d7ce6ca5862e9b8a2641fbafd90}{GpuImageUsage::COMPUTE}} | \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaa5d0791856a3081df75c6093017a61a36}{GpuImageUsage::SAMPLED}});}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00017}00017     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_aeb2b153e46784f2b55333cc63b19f605}{resolveRenderTarget}}.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_a2762dc66547722dc7742657d52f000bb}{Create}}(size, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aac59f9d056e083c0b49ea768f974e3e8ab90166b94483824b0f67dbb9ae2feef3}{Format::RGBA32\_SFLOAT}}, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aac59f9d056e083c0b49ea768f974e3e8a369fdc4770e12435c7f86a893edbcb06}{Format::D32S8\_SFLOAT\_SUINT}});}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00018}00018     }
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00019}00019     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_af8ba42331100543dd02e05a5d3c228ab}{SetupDefaultMaterialInstances}}();}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00020}00020 \}}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00021}00021 }
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00022}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a5755b9283180f003c9d77fbebebfb322}{00022}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a5755b9283180f003c9d77fbebebfb322}{IPostProcessPass::Resize}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector2__t}{Vector2ui}}\& size) \{}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00023}00023     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_aeb2b153e46784f2b55333cc63b19f605}{resolveRenderTarget}}.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_ac9f5d87b43a7e692631a8269f4c97f2d}{Resize}}(size);}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00024}00024     }
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00025}00025     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_af8ba42331100543dd02e05a5d3c228ab}{SetupDefaultMaterialInstances}}();}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00026}00026 \}}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00027}00027 }
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00028}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_af7e88a9869fe68ca02e156ec242bbf82}{00028}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_af7e88a9869fe68ca02e156ec242bbf82}{IPostProcessPass::SetInput}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image}{GpuImage}}* images[3], \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a96bf7489b9b90da1c5f3943906ad54e5}{InputType}} type) \{}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00029}00029     \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image}{GpuImage}}* imgs[3]\{\};}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00030}00030     \textcolor{keywordflow}{for} (\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} i = 0; i < \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a2790b1bb1dbf382ccd86a228f9f2ccbd}{NUM\_RESOURCES\_IN\_FLIGHT}}; i++) \{}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00031}00031         imgs[i] = images[i];}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00032}00032         \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a790f63a17cb829756f149c9b3a29dbcd}{inputImages}}[i] = images[i];}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00033}00033     \}}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00034}00034 }
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00035}00035     \textcolor{keywordflow}{if} (type == \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a96bf7489b9b90da1c5f3943906ad54e5a17a99bfdcbe59e8209f17c4da5de6ff9}{InputType::STORAGE\_IMAGE}})}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00036}00036         \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a2ae9345b24bc12cc56e0749a548aef7c}{postProcessingMaterialInstance}}-\/>GetSlot(\textcolor{stringliteral}{"{}texture"{}})-\/>SetStorageImages(\textcolor{stringliteral}{"{}sceneImage"{}}, imgs);}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00037}00037     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00038}00038         \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a2ae9345b24bc12cc56e0749a548aef7c}{postProcessingMaterialInstance}}-\/>GetSlot(\textcolor{stringliteral}{"{}texture"{}})-\/>SetGpuImages(\textcolor{stringliteral}{"{}sceneImage"{}}, imgs);}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00039}00039 \}}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00040}00040 }
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00041}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a1a082c4a464e368e99ac31064834213e}{00041}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_af7e88a9869fe68ca02e156ec242bbf82}{IPostProcessPass::SetInput}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target}{RenderTarget}}\& target, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a96bf7489b9b90da1c5f3943906ad54e5}{InputType}} type) \{}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00042}00042     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image}{GpuImage}}* images[3]\{\};}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00043}00043     \textcolor{keywordflow}{for} (\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} i = 0; i < 3; i++)}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00044}00044         images[i] = target.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_a8c608c1c1f6d5b15d6a69e0e5baee7de}{GetMainTargetImage}}(i);}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00045}00045 }
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00046}00046     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_af7e88a9869fe68ca02e156ec242bbf82}{SetInput}}(images, type);}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00047}00047 \}}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00048}00048 }
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00049}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a7d0bbf3e16f85b802fd4e493f583ae9a}{00049}} \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target}{RenderTarget}}\& \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a7d0bbf3e16f85b802fd4e493f583ae9a}{IPostProcessPass::GetOutput}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00050}00050     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_aeb2b153e46784f2b55333cc63b19f605}{resolveRenderTarget}};}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00051}00051 \}}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00052}00052 }
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00053}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_af8ba42331100543dd02e05a5d3c228ab}{00053}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_af8ba42331100543dd02e05a5d3c228ab}{IPostProcessPass::SetupDefaultMaterialInstances}}() \{}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00054}00054     \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image}{GpuImage}}* images[\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a2790b1bb1dbf382ccd86a228f9f2ccbd}{NUM\_RESOURCES\_IN\_FLIGHT}}]\{\};}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00055}00055     \textcolor{keywordflow}{for} (\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} i = 0; i < \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a2790b1bb1dbf382ccd86a228f9f2ccbd}{NUM\_RESOURCES\_IN\_FLIGHT}}; i++)}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00056}00056         images[i] = \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_aeb2b153e46784f2b55333cc63b19f605}{resolveRenderTarget}}.\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_a8c608c1c1f6d5b15d6a69e0e5baee7de}{GetMainTargetImage}}(i);}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00057}00057 }
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00058}00058     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a2ae9345b24bc12cc56e0749a548aef7c}{postProcessingMaterialInstance}}-\/>GetSlot(\textcolor{stringliteral}{"{}texture"{}})-\/>SetStorageImages(\textcolor{stringliteral}{"{}finalImage"{}}, images);}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00059}00059 \}}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00060}00060 }
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00061}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a8208778343f1ebf2150487856afec2ab}{00061}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a8208778343f1ebf2150487856afec2ab}{IPostProcessPass::UpdateMaterialInstance}}() \{}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00062}00062     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_post_process_pass_a2ae9345b24bc12cc56e0749a548aef7c}{postProcessingMaterialInstance}}-\/>GetSlot(\textcolor{stringliteral}{"{}texture"{}})-\/>FlushUpdate();}
\DoxyCodeLine{\Hypertarget{_i_post_process_pass_8cpp_source_l00063}00063 \}}

\end{DoxyCode}
