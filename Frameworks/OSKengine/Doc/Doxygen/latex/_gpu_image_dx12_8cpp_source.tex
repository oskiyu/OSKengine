\hypertarget{_gpu_image_dx12_8cpp_source}{}\doxysection{Gpu\+Image\+Dx12.\+cpp}
\label{_gpu_image_dx12_8cpp_source}\index{OSKengine2/GpuImageDx12.cpp@{OSKengine2/GpuImageDx12.cpp}}
\mbox{\hyperlink{_gpu_image_dx12_8cpp}{Ir a la documentaci√≥n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_image_dx12_8h}{GpuImageDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00003}00003 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_windows_utils_8h}{WindowsUtils.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00004}00004 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00005}00005 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_o_s_kengine_8h}{OSKengine.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00006}00006 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_renderer_dx12_8h}{RendererDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00007}00007 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_dx12_8h}{GpuDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00008}00008 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_format_dx12_8h}{FormatDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00009}00009 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_image_view_dx12_8h}{GpuImageViewDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00010}00010 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_allocator_dx12_8h}{GpuMemoryAllocatorDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00011}00011 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00012}00012 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k}{OSK}};}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00013}00013 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s}{OSK::GRAPHICS}};}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00015}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_a6e9d78ef730f62d0dd143ea1597e09af}{00015}} GpuImageDx12::GpuImageDx12(\textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_vector3__t}{Vector3ui}}\& size, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ab91ccc08d13454cfeb3c4f78deb72d59}{GpuImageDimension}} dimension, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffa}{GpuImageUsage}} usage, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} numLayers, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_aac59f9d056e083c0b49ea768f974e3e8}{Format}} format, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} numSamples, \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_sampler_desc}{GpuImageSamplerDesc}} samplerDesc)}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00016}00016     : \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image}{GpuImage}}(size, dimension, usage, numLayers, format, numSamples, samplerDesc) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00018}00018 \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00019}00019 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00020}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_a26e66a10adf1b6f4c22c9b8a7f162b5f}{00020}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_a26e66a10adf1b6f4c22c9b8a7f162b5f}{GpuImageDx12::FillResourceDesc}}() \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00021}00021     resourceDesc.Width = \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a244ebc8ce3ae3095698ea0c3eaba58fc}{GetSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector3__t_a9dd92e8b519b62ce53eb71f58eba6d50}{X}};}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00022}00022     resourceDesc.Height = \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a244ebc8ce3ae3095698ea0c3eaba58fc}{GetSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector3__t_afb19e7227d4047f7a666c03cea2b1658}{Y}};}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00023}00023     resourceDesc.DepthOrArraySize = \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a3f6e78b29f06b1b423ab89377a139b46}{GetNumLayers}}() == 1 ? \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a010e504f13e07ce86e1d82e344493860}{GetPhysicalSize}}().\mbox{\hyperlink{class_o_s_k_1_1_vector3__t_a50505b9a44529ae5aff66a956214549b}{Z}} : \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a3f6e78b29f06b1b423ab89377a139b46}{GetNumLayers}}();}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00024}00024     resourceDesc.Dimension = (D3D12\_RESOURCE\_DIMENSION)((\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}})\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_abce3e3ba3ec90fc147c6de62884e55ab}{GetDimension}}() + 1);}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00025}00025     resourceDesc.Alignment = D3D12\_DEFAULT\_RESOURCE\_PLACEMENT\_ALIGNMENT;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00026}00026     resourceDesc.Layout = D3D12\_TEXTURE\_LAYOUT\_UNKNOWN;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00027}00027     resourceDesc.MipLevels = \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_aa0220799f28ec1c45c888926243867e9}{GetMipLevels}}();}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00028}00028     resourceDesc.SampleDesc.Count = 1;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00029}00029     resourceDesc.SampleDesc.Quality = 0;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00030}00030     resourceDesc.Format = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a100a7488e1eee158da65062d0b5e5277}{GetFormatDx12}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a7fbd0307d9e9147312004fecca6b73ba}{GetFormat}}());}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00032}00032     D3D12\_RESOURCE\_FLAGS flags = D3D12\_RESOURCE\_FLAG\_NONE;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00033}00033     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespace_o_s_k_1_1_e_f_traits_a8b4d083d34df5ab4cc95043f91b5a24c}{EFTraits::HasFlag}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a339142f665e7289fafcd8e52cb03f9cb}{GetUsage}}(), \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaa04bd834032febb3fda8c6936ee140949}{GpuImageUsage::COLOR}}))}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00034}00034         flags |= D3D12\_RESOURCE\_FLAG\_ALLOW\_RENDER\_TARGET;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00035}00035     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespace_o_s_k_1_1_e_f_traits_a8b4d083d34df5ab4cc95043f91b5a24c}{EFTraits::HasFlag}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a339142f665e7289fafcd8e52cb03f9cb}{GetUsage}}(), \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaaecaa8fe8cb0e85372f4cc76728c7cf3c}{GpuImageUsage::DEPTH\_STENCIL}}))}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00036}00036         flags |= D3D12\_RESOURCE\_FLAG\_ALLOW\_DEPTH\_STENCIL;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00037}00037     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespace_o_s_k_1_1_e_f_traits_a8b4d083d34df5ab4cc95043f91b5a24c}{EFTraits::HasFlag}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a339142f665e7289fafcd8e52cb03f9cb}{GetUsage}}(), \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffaaac404d7ce6ca5862e9b8a2641fbafd90}{GpuImageUsage::COMPUTE}}))}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00038}00038         flags |= D3D12\_RESOURCE\_FLAG\_ALLOW\_UNORDERED\_ACCESS;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00039}00039 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00040}00040     resourceDesc.Flags = flags;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00041}00041 \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00042}00042 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00043}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_ab3c432492797274c81b6428d9472b0da}{00043}} \textcolor{keyword}{const} D3D12\_RESOURCE\_DESC\& \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_ab3c432492797274c81b6428d9472b0da}{GpuImageDx12::GetResourceDesc}}() \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00044}00044     \textcolor{keywordflow}{return} resourceDesc;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00045}00045 \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00046}00046 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00047}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_aec14b77bb3cc49649dbb34113fa4c710}{00047}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_aec14b77bb3cc49649dbb34113fa4c710}{GpuImageDx12::\_SetResource}}(ComPtr<ID3D12Resource> resource) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00048}00048     this-\/>resource = resource;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00049}00049 \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00050}00050 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00051}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_ac21fcddf8d3b17de4ccc186d3749c9d2}{00051}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_ac21fcddf8d3b17de4ccc186d3749c9d2}{GpuImageDx12::CreateResource}}(ID3D12Heap* memory, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} memoryOffset) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00052}00052     \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a8b6b1698afeb3bb07f3b91e5ddb79b2d}{GetGpu}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()-\/>CreatePlacedResource(memory, memoryOffset, \&resourceDesc, D3D12\_RESOURCE\_STATE\_GENERIC\_READ, \textcolor{keyword}{nullptr}, IID\_PPV\_ARGS(\&resource));}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00053}00053 \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00055}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_ac71ee7f557da19b1a8c1513c46f52c9c}{00055}} ID3D12Resource* \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_ac71ee7f557da19b1a8c1513c46f52c9c}{GpuImageDx12::GetResource}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00056}00056     \textcolor{keywordflow}{return} resource.Get();}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00057}00057 \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00058}00058 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00059}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_a70902e8c19134eb15b3d281f60a7a885}{00059}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_a70902e8c19134eb15b3d281f60a7a885}{GpuImageDx12::SetDebugName}}(\textcolor{keyword}{const} std::string\& name) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00060}00060     \textcolor{keyword}{auto} str = \mbox{\hyperlink{namespace_o_s_k_a543f1e2eaed4543c687adc9f9a0622ac}{StringToWideString}}(name);}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00061}00061     resource-\/>SetName(str.c\_str());}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00062}00062 \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00063}00063 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00064}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_a8bcbb138b289e9ae0c4a55440dfcac42}{00064}} \mbox{\hyperlink{class_o_s_k_1_1_owned_ptr}{OwnedPtr<IGpuImageView>}} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_a8bcbb138b289e9ae0c4a55440dfcac42}{GpuImageDx12::CreateView}}(\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a02ed44392ae1f51786ead8911c3afe9d}{SampledChannel}} channel, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39}{SampledArrayType}} arrayType, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} baseArrayLevel, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} layerCount, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ade40ecf1619c14b53344301c1eca1bca}{ViewUsage}} usage)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00065}00065     \textcolor{keywordflow}{switch} (usage) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00066}00066     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ade40ecf1619c14b53344301c1eca1bcaa5d0791856a3081df75c6093017a61a36}{OSK::GRAPHICS::ViewUsage::SAMPLED}}: \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00067}00067         \textcolor{keyword}{const} \textcolor{keyword}{auto} descriptor = \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_acf03703bbb6f031f905612d86f104b38}{GetMemoryAllocator}}()-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_allocator_dx12}{GpuMemoryAllocatorDx12}}>()-\/>GetDescriptor(D3D12\_DESCRIPTOR\_HEAP\_TYPE\_CBV\_SRV\_UAV);}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00068}00068     }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00069}00069         \textcolor{keywordflow}{if} (channel == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a02ed44392ae1f51786ead8911c3afe9da04bd834032febb3fda8c6936ee140949}{SampledChannel::COLOR}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00070}00070             D3D12\_SHADER\_RESOURCE\_VIEW\_DESC resourceViewDesc\{\};}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00071}00071             resourceViewDesc.Format = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a100a7488e1eee158da65062d0b5e5277}{GetFormatDx12}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a7fbd0307d9e9147312004fecca6b73ba}{GetFormat}}());}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00072}00072             resourceViewDesc.Shader4ComponentMapping = D3D12\_DEFAULT\_SHADER\_4\_COMPONENT\_MAPPING;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00073}00073 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00074}00074             \textcolor{keywordflow}{if} (arrayType == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39a827be7f5269fdb21e2fb90ab4f60e785}{SampledArrayType::SINGLE\_LAYER}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00075}00075                 resourceViewDesc.ViewDimension = D3D12\_SRV\_DIMENSION\_TEXTURE2D;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00076}00076                 resourceViewDesc.Texture2D.MipLevels = \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_aa0220799f28ec1c45c888926243867e9}{GetMipLevels}}();}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00077}00077                 resourceViewDesc.Texture2D.MostDetailedMip = 0;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00078}00078                 resourceViewDesc.Texture2D.PlaneSlice = baseArrayLevel;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00079}00079             \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00080}00080             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arrayType == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39acb4fb1757fb37c43cded35d3eb857c43}{SampledArrayType::ARRAY}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00081}00081                 resourceViewDesc.ViewDimension = D3D12\_SRV\_DIMENSION\_TEXTURE2DARRAY;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00082}00082 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00083}00083                 resourceViewDesc.Texture2DArray.MostDetailedMip = 0;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00084}00084                 resourceViewDesc.Texture2DArray.MipLevels = \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_aa0220799f28ec1c45c888926243867e9}{GetMipLevels}}();}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00085}00085 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00086}00086                 resourceViewDesc.Texture2DArray.FirstArraySlice = baseArrayLevel;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00087}00087                 resourceViewDesc.Texture2DArray.ArraySize = layerCount;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00088}00088                 resourceViewDesc.Texture2DArray.PlaneSlice = 0;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00089}00089             \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00090}00090 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00091}00091             \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a8b6b1698afeb3bb07f3b91e5ddb79b2d}{GetGpu}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00092}00092                 -\/>CreateShaderResourceView(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_ac71ee7f557da19b1a8c1513c46f52c9c}{GetResource}}(), \&resourceViewDesc, descriptor.cpuHandle);}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00093}00093         \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00094}00094         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (channel == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a02ed44392ae1f51786ead8911c3afe9daaa1780b4fcce2d5d9af13dc25386d111}{SampledChannel::DEPTH}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00095}00095             D3D12\_DEPTH\_STENCIL\_VIEW\_DESC desc\{\};}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00096}00096             desc.Format = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a100a7488e1eee158da65062d0b5e5277}{GetFormatDx12}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a7fbd0307d9e9147312004fecca6b73ba}{GetFormat}}());}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00097}00097             desc.Flags = D3D12\_DSV\_FLAG\_READ\_ONLY\_DEPTH;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00098}00098 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00099}00099             \textcolor{keywordflow}{if} (arrayType == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39a827be7f5269fdb21e2fb90ab4f60e785}{SampledArrayType::SINGLE\_LAYER}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00100}00100                 desc.ViewDimension = D3D12\_DSV\_DIMENSION\_TEXTURE2D;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00101}00101                 desc.Texture2D.MipSlice = baseArrayLevel;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00102}00102             \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00103}00103             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arrayType == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39acb4fb1757fb37c43cded35d3eb857c43}{SampledArrayType::ARRAY}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00104}00104                 desc.ViewDimension = D3D12\_DSV\_DIMENSION\_TEXTURE2DARRAY;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00105}00105                 desc.Texture2DArray.MipSlice = 0;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00106}00106                 desc.Texture2DArray.FirstArraySlice = baseArrayLevel;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00107}00107                 desc.Texture2DArray.ArraySize = layerCount;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00108}00108             \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00109}00109 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00110}00110             \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a8b6b1698afeb3bb07f3b91e5ddb79b2d}{GetGpu}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00111}00111                 -\/>CreateDepthStencilView(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_ac71ee7f557da19b1a8c1513c46f52c9c}{GetResource}}(), \&desc, descriptor.cpuHandle);}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00112}00112         \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00113}00113         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (channel == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a02ed44392ae1f51786ead8911c3afe9da301b25ea9a653329b5d5d727f92514c4}{SampledChannel::STENCIL}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00114}00114             D3D12\_DEPTH\_STENCIL\_VIEW\_DESC desc\{\};}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00115}00115             desc.Format = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a100a7488e1eee158da65062d0b5e5277}{GetFormatDx12}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a7fbd0307d9e9147312004fecca6b73ba}{GetFormat}}());}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00116}00116             desc.Flags = D3D12\_DSV\_FLAG\_READ\_ONLY\_STENCIL;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00117}00117 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00118}00118             \textcolor{keywordflow}{if} (arrayType == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39a827be7f5269fdb21e2fb90ab4f60e785}{SampledArrayType::SINGLE\_LAYER}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00119}00119                 desc.ViewDimension = D3D12\_DSV\_DIMENSION\_TEXTURE2D;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00120}00120                 desc.Texture2D.MipSlice = baseArrayLevel;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00121}00121             \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00122}00122             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arrayType == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39acb4fb1757fb37c43cded35d3eb857c43}{SampledArrayType::ARRAY}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00123}00123                 desc.ViewDimension = D3D12\_DSV\_DIMENSION\_TEXTURE2DARRAY;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00124}00124                 desc.Texture2DArray.MipSlice = 0;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00125}00125                 desc.Texture2DArray.FirstArraySlice = baseArrayLevel;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00126}00126                 desc.Texture2DArray.ArraySize = layerCount;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00127}00127             \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00128}00128 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00129}00129             \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a8b6b1698afeb3bb07f3b91e5ddb79b2d}{GetGpu}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00130}00130                 -\/>CreateDepthStencilView(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_ac71ee7f557da19b1a8c1513c46f52c9c}{GetResource}}(), \&desc, descriptor.cpuHandle);}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00131}00131         \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00132}00132 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00133}00133         \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_view_dx12}{GpuImageViewDx12}}(descriptor, channel, arrayType, baseArrayLevel, layerCount, usage);}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00134}00134     \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00135}00135         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00136}00136 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00137}00137     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ade40ecf1619c14b53344301c1eca1bcaadf45780d7dc144f8c73766fae316d606}{OSK::GRAPHICS::ViewUsage::COLOR\_TARGET}}: \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00138}00138         \textcolor{keyword}{const} \textcolor{keyword}{auto} descriptor = \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_acf03703bbb6f031f905612d86f104b38}{GetMemoryAllocator}}()-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_allocator_dx12}{GpuMemoryAllocatorDx12}}>()-\/>GetDescriptor(D3D12\_DESCRIPTOR\_HEAP\_TYPE\_RTV);}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00139}00139 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00140}00140         D3D12\_RENDER\_TARGET\_VIEW\_DESC resourceViewDesc\{\};}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00141}00141         resourceViewDesc.Format = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a100a7488e1eee158da65062d0b5e5277}{GetFormatDx12}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a7fbd0307d9e9147312004fecca6b73ba}{GetFormat}}());}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00142}00142 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00143}00143         \textcolor{keywordflow}{if} (arrayType == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39a827be7f5269fdb21e2fb90ab4f60e785}{SampledArrayType::SINGLE\_LAYER}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00144}00144             resourceViewDesc.ViewDimension = D3D12\_RTV\_DIMENSION\_TEXTURE2D;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00145}00145 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00146}00146             resourceViewDesc.Texture2D.MipSlice = 0;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00147}00147             resourceViewDesc.Texture2D.PlaneSlice = baseArrayLevel;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00148}00148         \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00149}00149         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arrayType == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39acb4fb1757fb37c43cded35d3eb857c43}{SampledArrayType::ARRAY}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00150}00150             D3D12\_RENDER\_TARGET\_VIEW\_DESC resourceViewDesc\{\};}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00151}00151             resourceViewDesc.ViewDimension = D3D12\_RTV\_DIMENSION\_TEXTURE2DARRAY;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00152}00152 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00153}00153             resourceViewDesc.Texture2DArray.MipSlice = 0;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00154}00154             resourceViewDesc.Texture2DArray.PlaneSlice = 0;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00155}00155             resourceViewDesc.Texture2DArray.FirstArraySlice = baseArrayLevel;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00156}00156             resourceViewDesc.Texture2DArray.ArraySize = layerCount;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00157}00157         \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00158}00158 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00159}00159         \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a8b6b1698afeb3bb07f3b91e5ddb79b2d}{GetGpu}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00160}00160             -\/>CreateRenderTargetView(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_ac71ee7f557da19b1a8c1513c46f52c9c}{GetResource}}(), \&resourceViewDesc, descriptor.cpuHandle);}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00161}00161 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00162}00162         \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_view_dx12}{GpuImageViewDx12}}(descriptor, channel, arrayType, baseArrayLevel, layerCount, usage);}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00163}00163     \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00164}00164         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00165}00165 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00166}00166     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ade40ecf1619c14b53344301c1eca1bcaaad449a013a6d7a34d5ea38b6263ff6d8}{OSK::GRAPHICS::ViewUsage::DEPTH\_STENCIL\_TARGET}}: \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00167}00167         \textcolor{keyword}{const} \textcolor{keyword}{auto} descriptor = \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_acf03703bbb6f031f905612d86f104b38}{GetMemoryAllocator}}()-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_allocator_dx12}{GpuMemoryAllocatorDx12}}>()-\/>GetDescriptor(D3D12\_DESCRIPTOR\_HEAP\_TYPE\_DSV);}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00168}00168         }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00169}00169         D3D12\_DEPTH\_STENCIL\_VIEW\_DESC desc\{\};}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00170}00170         desc.Format = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a100a7488e1eee158da65062d0b5e5277}{GetFormatDx12}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a7fbd0307d9e9147312004fecca6b73ba}{GetFormat}}());}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00171}00171         desc.Flags = D3D12\_DSV\_FLAG\_NONE;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00172}00172 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00173}00173         \textcolor{keywordflow}{if} (arrayType == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39a827be7f5269fdb21e2fb90ab4f60e785}{SampledArrayType::SINGLE\_LAYER}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00174}00174             desc.ViewDimension = D3D12\_DSV\_DIMENSION\_TEXTURE2D;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00175}00175             desc.Texture2D.MipSlice = 0;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00176}00176         \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00177}00177         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arrayType == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39acb4fb1757fb37c43cded35d3eb857c43}{SampledArrayType::ARRAY}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00178}00178             desc.ViewDimension = D3D12\_DSV\_DIMENSION\_TEXTURE2DARRAY;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00179}00179             desc.Texture2DArray.MipSlice = 0;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00180}00180             desc.Texture2DArray.FirstArraySlice = baseArrayLevel;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00181}00181             desc.Texture2DArray.ArraySize = layerCount;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00182}00182         \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00183}00183 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00184}00184         \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a8b6b1698afeb3bb07f3b91e5ddb79b2d}{GetGpu}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00185}00185             -\/>CreateDepthStencilView(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_ac71ee7f557da19b1a8c1513c46f52c9c}{GetResource}}(), \&desc, descriptor.cpuHandle);}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00186}00186 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00187}00187         \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_view_dx12}{GpuImageViewDx12}}(descriptor, channel, arrayType, baseArrayLevel, layerCount, usage);}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00188}00188     \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00189}00189         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00190}00190 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00191}00191     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ade40ecf1619c14b53344301c1eca1bcaa754a5d433173b5ddc7debc2110ac575f}{OSK::GRAPHICS::ViewUsage::STORAGE}}: \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00192}00192         \textcolor{keyword}{const} \textcolor{keyword}{auto} descriptor = \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_acf03703bbb6f031f905612d86f104b38}{GetMemoryAllocator}}()-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_allocator_dx12}{GpuMemoryAllocatorDx12}}>()-\/>GetDescriptor(D3D12\_DESCRIPTOR\_HEAP\_TYPE\_CBV\_SRV\_UAV);}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00193}00193 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00194}00194         D3D12\_UNORDERED\_ACCESS\_VIEW\_DESC desc\{\};}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00195}00195         desc.Format = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a100a7488e1eee158da65062d0b5e5277}{GetFormatDx12}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a7fbd0307d9e9147312004fecca6b73ba}{GetFormat}}());}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00196}00196 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00197}00197         \textcolor{keywordflow}{if} (arrayType == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39a827be7f5269fdb21e2fb90ab4f60e785}{SampledArrayType::SINGLE\_LAYER}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00198}00198             desc.ViewDimension = D3D12\_UAV\_DIMENSION\_TEXTURE2D;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00199}00199             desc.Texture2D.MipSlice = 0;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00200}00200             desc.Texture2D.PlaneSlice = baseArrayLevel;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00201}00201         \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00202}00202         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arrayType == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a55e114ba828198c2146f5233e462ba39acb4fb1757fb37c43cded35d3eb857c43}{SampledArrayType::ARRAY}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00203}00203             desc.ViewDimension = D3D12\_UAV\_DIMENSION\_TEXTURE2DARRAY;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00204}00204             desc.Texture2DArray.MipSlice = 0;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00205}00205             desc.Texture2DArray.PlaneSlice = 0;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00206}00206             desc.Texture2DArray.FirstArraySlice = baseArrayLevel;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00207}00207             desc.Texture2DArray.ArraySize = layerCount;}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00208}00208         \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00209}00209 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00210}00210         \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a8b6b1698afeb3bb07f3b91e5ddb79b2d}{GetGpu}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00211}00211             -\/>CreateUnorderedAccessView(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_ac71ee7f557da19b1a8c1513c46f52c9c}{GetResource}}(), \textcolor{keyword}{nullptr}, \&desc, descriptor.cpuHandle);}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00212}00212 }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00213}00213         \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_view_dx12}{GpuImageViewDx12}}(descriptor, channel, arrayType, baseArrayLevel, layerCount, usage);}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00214}00214     \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00215}00215         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00216}00216     \}}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00217}00217     }
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00218}00218     \mbox{\hyperlink{_assert_8h_adfbccaec84df99b8277f9d877554170c}{OSK\_ASSERT}}(\textcolor{keyword}{false}, \textcolor{stringliteral}{"{}View no disponible."{}});}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00219}00219     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_gpu_image_dx12_8cpp_source_l00220}00220 \}}

\end{DoxyCode}
