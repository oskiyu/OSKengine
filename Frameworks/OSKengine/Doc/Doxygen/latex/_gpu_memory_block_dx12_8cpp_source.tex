\hypertarget{_gpu_memory_block_dx12_8cpp_source}{}\doxysection{Gpu\+Memory\+Block\+Dx12.\+cpp}
\label{_gpu_memory_block_dx12_8cpp_source}\index{OSKengine2/GpuMemoryBlockDx12.cpp@{OSKengine2/GpuMemoryBlockDx12.cpp}}
\mbox{\hyperlink{_gpu_memory_block_dx12_8cpp}{Ir a la documentaci√≥n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_block_dx12_8h}{GpuMemoryBlockDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00003}00003 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_dx12_8h}{GpuDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00004}00004 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_types_dx12_8h}{GpuMemoryTypesDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00005}00005 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00006}00006 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_types_8h}{GpuMemoryTypes.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00007}00007 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_format_8h}{Format.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00008}00008 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_subblock_dx12_8h}{GpuMemorySubblockDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00009}00009 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_format_dx12_8h}{FormatDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00010}00010 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_i_gpu_image_8h}{IGpuImage.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00011}00011 \textcolor{preprocessor}{\#include <d3d12.h>}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00012}00012 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_o_s_kengine_8h}{OSKengine.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00013}00013 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_renderer_dx12_8h}{RendererDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00014}00014 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_dx12_8h}{GpuDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00015}00015 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_image_dimensions_8h}{GpuImageDimensions.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00016}00016 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_image_usage_8h}{GpuImageUsage.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00017}00017 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_math_8h}{Math.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00018}00018 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_image_dx12_8h}{GpuImageDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00019}00019 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00020}00020 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k}{OSK}};}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00021}00021 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s}{OSK::GRAPHICS}};}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00023}00023 GpuMemoryBlockDx12::GpuMemoryBlockDx12(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image}{GpuImage}}* image, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu}{IGpu}}* device, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a85a830e82585f3a565d1f097491042ce}{GpuSharedMemoryType}} type, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffa}{GpuImageUsage}} imageUSage, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} numLayers)}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00024}00024     : \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_block}{IGpuMemoryBlock}}(image-\/>GetPhysicalSize().\mbox{\hyperlink{namespace_o_s_k_1_1_i_o_ad1d8e1f23e2f2515648a3ad1b93ff345a02129bb861061d1a052c592e2dc6b383}{X}} * image-\/>GetPhysicalSize().\mbox{\hyperlink{namespace_o_s_k_1_1_i_o_ad1d8e1f23e2f2515648a3ad1b93ff345a57cec4137b614c87cb4e24a3d003a3e0}{Y}} * image-\/>GetPhysicalSize().\mbox{\hyperlink{namespace_o_s_k_1_1_i_o_a0b92714a4a778072d4824502589bd39ea21c2e59531c8710156d34a3c30ac81d5}{Z}} * \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_abd894ab72db6cb1f2762684830d7354c}{GetFormatNumberOfBytes}}(image-\/>GetFormat()), device, type, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ae5e58e16d9268fde60c3eae698b225ec}{GpuMemoryUsage}}::\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ae5e58e16d9268fde60c3eae698b225eca23a12f67f614b5518c7f1c2465bf95e3}{IMAGE}}), sizeX(image-\/>GetSize().\mbox{\hyperlink{namespace_o_s_k_1_1_i_o_ad1d8e1f23e2f2515648a3ad1b93ff345a02129bb861061d1a052c592e2dc6b383}{X}}), sizeY(image-\/>GetPhysicalSize().\mbox{\hyperlink{namespace_o_s_k_1_1_i_o_ad1d8e1f23e2f2515648a3ad1b93ff345a57cec4137b614c87cb4e24a3d003a3e0}{Y}}), format(image-\/>GetFormat()) \{}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00025}00025 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00026}00026     image-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a6bc3268b57ede5f9f0541b20d12dfea0}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12}{GpuImageDx12}}>()-\/>FillResourceDesc();}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00027}00027     \textcolor{keyword}{const} D3D12\_RESOURCE\_DESC\& resourceDesc = image-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_a6bc3268b57ede5f9f0541b20d12dfea0}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12}{GpuImageDx12}}>()-\/>GetResourceDesc();}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00028}00028 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00029}00029     D3D12\_RESOURCE\_ALLOCATION\_INFO allocInfo = Engine::GetRenderer()-\/>GetGpu()-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()-\/>GetResourceAllocationInfo(0, 1, \&resourceDesc);}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00031}00031     D3D12\_HEAP\_DESC memoryCreateInfo\{\};}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00032}00032     memoryCreateInfo.SizeInBytes = allocInfo.SizeInBytes;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00033}00033     memoryCreateInfo.Properties.Type = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ac499da78f73320a680f1e7823c7aa60f}{GetGpuSharedMemoryTypeDx12}}(type);}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00034}00034 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00035}00035     device-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()-\/>CreateHeap(\&memoryCreateInfo, IID\_PPV\_ARGS(\&memory));}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00037}00037     resource.image = image;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00038}00038 \}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00039}00039 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00040}00040 GpuMemoryBlockDx12::GpuMemoryBlockDx12(\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} reservedSize, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu}{IGpu}}* device, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a85a830e82585f3a565d1f097491042ce}{GpuSharedMemoryType}} type, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ad8b871b506bab7c4021326a1a10bbc7f}{GpuBufferUsage}} bufferUSage) }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00041}00041     : \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_block}{IGpuMemoryBlock}}(reservedSize, device, type, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ae5e58e16d9268fde60c3eae698b225ec}{GpuMemoryUsage}}::\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ae5e58e16d9268fde60c3eae698b225eca17de626bcae5109bb2f7a66dfc4a8a1d}{BUFFER}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00042}00042     this-\/>totalSize = MATH::PrimerMultiploSuperior<TSize>(reservedSize, D3D12\_TEXTURE\_DATA\_PITCH\_ALIGNMENT);}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00043}00043 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00044}00044     D3D12\_HEAP\_DESC memoryCreateInfo\{\};}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00045}00045     memoryCreateInfo.SizeInBytes = totalSize;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00046}00046     memoryCreateInfo.Properties.Type = \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ac499da78f73320a680f1e7823c7aa60f}{GetGpuSharedMemoryTypeDx12}}(type);}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00047}00047 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00048}00048     device-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{_material_slot_vulkan_8cpp_adead74bea72029d218144e2a94a1eb1e}{GetDevice}}()-\/>CreateHeap(\&memoryCreateInfo, IID\_PPV\_ARGS(\&memory));}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00049}00049 \}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00050}00050 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00051}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_block_dx12_a6e95ea54b078e71df2642158eb31d01c}{00051}} \mbox{\hyperlink{class_o_s_k_1_1_owned_ptr}{OwnedPtr<GpuMemoryBlockDx12>}} GpuMemoryBlockDx12::CreateNewBufferBlock(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_block_a6a0d2f6c5928204bd7707bf8d4324e9b}{TSize}} reservedSize, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu}{IGpu}}* device, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a85a830e82585f3a565d1f097491042ce}{GpuSharedMemoryType}} type, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ad8b871b506bab7c4021326a1a10bbc7f}{GpuBufferUsage}} bufferUSage) \{}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00052}00052     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_block_dx12}{GpuMemoryBlockDx12}}(reservedSize, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_block_ac75aa44cce34a964dfe1d6026d4d3c5f}{device}}, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_block_a49883b25223e08eefef3da606eacf367}{type}}, bufferUSage);}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00053}00053 \}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00055}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_block_dx12_a3b169902dd5b23548da5d10c349a53db}{00055}} \mbox{\hyperlink{class_o_s_k_1_1_owned_ptr}{OwnedPtr<GpuMemoryBlockDx12>}} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_block_dx12_a3b169902dd5b23548da5d10c349a53db}{GpuMemoryBlockDx12::CreateNewImageBlock}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image}{GpuImage}}* image, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu}{IGpu}}* device, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a85a830e82585f3a565d1f097491042ce}{GpuSharedMemoryType}} type, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a19a2f70fc994c00eb022e520608c5ffa}{GpuImageUsage}} imageUSage, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_block_a6a0d2f6c5928204bd7707bf8d4324e9b}{TSize}} numLayers) \{}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00056}00056     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_block_dx12}{GpuMemoryBlockDx12}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_block_dx12_a2deac1d14e91d4af154cb09d563c7973}{image}}, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_block_ac75aa44cce34a964dfe1d6026d4d3c5f}{device}}, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_block_a49883b25223e08eefef3da606eacf367}{type}}, imageUSage, numLayers);}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00057}00057 \}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00058}00058 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00059}00059 \mbox{\hyperlink{class_o_s_k_1_1_owned_ptr}{OwnedPtr<IGpuMemorySubblock>}} GpuMemoryBlockDx12::CreateNewMemorySubblock(\mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} size, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} offset) \{}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00060}00060     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_block_a2e98cccefbc350a426c8d10d66f58769}{usage}} == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ae5e58e16d9268fde60c3eae698b225eca17de626bcae5109bb2f7a66dfc4a8a1d}{GpuMemoryUsage::BUFFER}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00061}00061         ComPtr<ID3D12Resource> resource;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00062}00062     }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00063}00063         D3D12\_RESOURCE\_DESC createInfo\{\};}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00064}00064         createInfo.Width = size;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00065}00065         createInfo.Height = 1;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00066}00066         createInfo.DepthOrArraySize = 1;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00067}00067         createInfo.Dimension = D3D12\_RESOURCE\_DIMENSION\_BUFFER;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00068}00068         createInfo.Alignment = D3D12\_DEFAULT\_RESOURCE\_PLACEMENT\_ALIGNMENT;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00069}00069         createInfo.Layout = D3D12\_TEXTURE\_LAYOUT\_ROW\_MAJOR;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00070}00070         createInfo.Flags = D3D12\_RESOURCE\_FLAG\_NONE;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00071}00071         createInfo.MipLevels = 1;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00072}00072         createInfo.SampleDesc.Count = 1;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00073}00073         createInfo.SampleDesc.Quality = 0;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00074}00074         createInfo.Format = DXGI\_FORMAT\_UNKNOWN;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00075}00075 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00076}00076         \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_block_ac75aa44cce34a964dfe1d6026d4d3c5f}{device}}-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_a1b0e5d22fed49696034d38442892121c}{As}}<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_dx12}{GpuDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_block_a580935b95ec1677cff56582f347e8900}{GetDevice}}()-\/>CreatePlacedResource(memory.Get(), offset, \&createInfo, D3D12\_RESOURCE\_STATE\_GENERIC\_READ, \textcolor{keyword}{nullptr}, IID\_PPV\_ARGS(\&resource));}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00077}00077 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00078}00078         \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12}{GpuMemorySubblockDx12}}(\textcolor{keyword}{this}, size, offset, resource);}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00079}00079     \}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00080}00080     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_block_a2e98cccefbc350a426c8d10d66f58769}{usage}} == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_ae5e58e16d9268fde60c3eae698b225eca23a12f67f614b5518c7f1c2465bf95e3}{GpuMemoryUsage::IMAGE}}) \{}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00081}00081         resource.image-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12}{GpuImageDx12}}>()-\/>CreateResource(memory.Get(), offset);}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00082}00082         \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12}{GpuMemorySubblockDx12}}(\textcolor{keyword}{this}, size, offset, resource.image-\/>As<\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12}{GpuImageDx12}}>()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_dx12_ac71ee7f557da19b1a8c1513c46f52c9c}{GetResource}}());}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00083}00083     \}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00084}00084 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00085}00085     \mbox{\hyperlink{_assert_8h_adfbccaec84df99b8277f9d877554170c}{OSK\_ASSERT}}(\textcolor{keyword}{false}, \textcolor{stringliteral}{"{}No se puede crear subbloque para el uso de memoria dado."{}});}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00086}00086     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00087}00087 \}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00088}00088 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00089}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_block_dx12_a65e4f85d3ccd7d34009082ea9cf6b646}{00089}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_block_dx12_a65e4f85d3ccd7d34009082ea9cf6b646}{GpuMemoryBlockDx12::Free}}() \{}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00090}00090     memory-\/>Release();}
\DoxyCodeLine{\Hypertarget{_gpu_memory_block_dx12_8cpp_source_l00091}00091 \}}

\end{DoxyCode}
