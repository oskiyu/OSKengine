\hypertarget{_i_command_list_8cpp_source}{}\doxysection{ICommand\+List.\+cpp}
\label{_i_command_list_8cpp_source}\index{OSKengine2/ICommandList.cpp@{OSKengine2/ICommandList.cpp}}
\mbox{\hyperlink{_i_command_list_8cpp}{Ir a la documentaciÃ³n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_i_command_list_8h}{ICommandList.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00003}00003 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_i_gpu_image_8h}{IGpuImage.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00004}00004 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_o_s_kengine_8h}{OSKengine.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00005}00005 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_i_renderer_8h}{IRenderer.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00006}00006 }
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00007}00007 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k}{OSK}};}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00008}00008 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s}{OSK::GRAPHICS}};}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00009}00009 }
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00010}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_aeeec6b511ff9c19d16c2d52c0f9f6678}{00010}} ICommandList::\string~ICommandList() \{}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00011}00011     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_ab7109911a37fcb344856f013eab554da}{DeleteAllStagingBuffers}}();}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00012}00012 \}}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00013}00013 }
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00014}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_aea8a55a6c79006ab5107789609a56726}{00014}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a4f744548e824c36b684f4d35bd1b90b2}{ICommandList::SetGpuImageBarrier}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image}{GpuImage}}* image, \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a20f40e3d3e967090ee1884e0c77b9df9}{GpuImageLayout}} nextLayout, \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}} previous, \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_barrier_info}{GpuBarrierInfo}} next, \textcolor{keyword}{const} \mbox{\hyperlink{struct_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_barrier_info}{GpuImageBarrierInfo}}\& prevImageInfo) \{}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00015}00015     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a4f744548e824c36b684f4d35bd1b90b2}{SetGpuImageBarrier}}(image, image-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_image_ae48a1a723ee92230591f19ecaa9a81e9}{GetLayout}}(), nextLayout, previous, next, prevImageInfo);}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00016}00016 \}}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00018}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a78589eeb1aaa3971b96da0d8d3abbf0d}{00018}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a78589eeb1aaa3971b96da0d8d3abbf0d}{ICommandList::RegisterStagingBuffer}}(\mbox{\hyperlink{class_o_s_k_1_1_owned_ptr}{OwnedPtr<GpuDataBuffer>}} stagingBuffer) \{}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00019}00019     stagingBuffersToDelete.Insert(stagingBuffer.\mbox{\hyperlink{class_o_s_k_1_1_owned_ptr_a81dfab2299056fc9858aace55fca0042}{GetPointer}}());}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00020}00020 \}}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00021}00021 }
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00022}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_ae3d1fda12c227f4b1782a16c2dca7f5c}{00022}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_ae3d1fda12c227f4b1782a16c2dca7f5c}{ICommandList::BeginGraphicsRenderpass}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target}{RenderTarget}}* renderpass, \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_color}{Color}}\& color) \{}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00023}00023     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a32e5847e802024bcd2fc7cc5215c733a}{currentRenderpassType}} = renderpass-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_a750d6e17c94bf48a22414b9d1fc4cce3}{GetRenderTargetType}}();}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00025}00025     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} isFinal = \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a32e5847e802024bcd2fc7cc5215c733a}{currentRenderpassType}} == \mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s_a68c7e70128c792c56815e41b7f9c5fefa6c8361dc2036c0559376fe4957699f69}{RenderpassType::FINAL}};}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00026}00026     \textcolor{keyword}{const} \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} frameIndex = isFinal }
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00027}00027         ? \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a4ab0c3c7114ddbc503d81c25546013e7}{GetCurrentFrameIndex}}()}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00028}00028         : \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a4a779e3af14025ec16d8a0c0a6cf0fe5}{GetCurrentCommandListIndex}}();}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00030}00030     \mbox{\hyperlink{class_o_s_k_1_1_dynamic_array}{DynamicArray<RenderPassImageInfo>}} colorImages;}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00032}00032     \textcolor{keywordflow}{if} (isFinal) \{}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00033}00033         colorImages.\mbox{\hyperlink{class_o_s_k_1_1_dynamic_array_a2c1e7bd2efbadf8b163f67c26921ba53}{Insert}}(\{ \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a0dad039a7b86341155a12030a504e764}{\_GetSwapchain}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_swapchain_a5936949da83e48f3f0f337d1459e5989}{GetImage}}(frameIndex), 0 \});}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00034}00034     \}}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00035}00035     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00036}00036         \textcolor{keyword}{const} \mbox{\hyperlink{class_o_s_k_1_1_dynamic_array}{DynamicArray<GpuImage*>}} targetImages = renderpass-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_a05a99fdb142018512bc2a466b8b3c705}{GetTargetImages}}(frameIndex);}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00037}00037         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} renderTargetImage : targetImages) \{}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00038}00038             colorImages.\mbox{\hyperlink{class_o_s_k_1_1_dynamic_array_a2c1e7bd2efbadf8b163f67c26921ba53}{Insert}}(\{ renderTargetImage, 0 \});}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00039}00039         \}}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00040}00040     \}}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00041}00041 }
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00042}00042     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_ae3d1fda12c227f4b1782a16c2dca7f5c}{BeginGraphicsRenderpass}}(colorImages, \{ renderpass-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_render_target_a017731d9498082f93cf91b3ce93d0ce8}{GetDepthImage}}(frameIndex), 0 \}, color);}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00043}00043 \}}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00045}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_aa78c754b21eb1cf45f2c05e36bdb9276}{00045}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_aa78c754b21eb1cf45f2c05e36bdb9276}{ICommandList::PushMaterialConstants}}(\textcolor{keyword}{const} std::string\& pushConstName, \textcolor{keyword}{const} \textcolor{keywordtype}{void}* data, \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} size) \{}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00046}00046     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_aa78c754b21eb1cf45f2c05e36bdb9276}{PushMaterialConstants}}(pushConstName, data, size, 0);}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00047}00047 \}}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00048}00048 }
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00049}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_ab7109911a37fcb344856f013eab554da}{00049}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_ab7109911a37fcb344856f013eab554da}{ICommandList::DeleteAllStagingBuffers}}() \{}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00050}00050     stagingBuffersToDelete.Free();}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00051}00051 \}}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00052}00052 }
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00053}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a91dd0015d5deefbbcbc1abacdb6be2c6}{00053}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a91dd0015d5deefbbcbc1abacdb6be2c6}{ICommandList::\_SetSingleTimeUse}}() \{}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00054}00054     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a3298bbf2bbc07fce7dd4a04a20b0bf44}{isSingleUse}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00055}00055 \}}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00056}00056 }
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00057}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a2737fdfdca1c275d18f54cbb326dbc0d}{00057}} \mbox{\hyperlink{_o_s_kmacros_8h_a1acaf9dff8b00604e55d38b35a744a9a}{TSize}} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a2737fdfdca1c275d18f54cbb326dbc0d}{ICommandList::GetCommandListIndex}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00058}00058     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_command_list_a3298bbf2bbc07fce7dd4a04a20b0bf44}{isSingleUse}} ? 0 : \mbox{\hyperlink{class_o_s_k_1_1_engine_a019c5397d042224c134b7fd22c739d00}{Engine::GetRenderer}}()-\/>\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_renderer_a4a779e3af14025ec16d8a0c0a6cf0fe5}{GetCurrentCommandListIndex}}();}
\DoxyCodeLine{\Hypertarget{_i_command_list_8cpp_source_l00059}00059 \}}

\end{DoxyCode}
