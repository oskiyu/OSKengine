\hypertarget{_asset_manager_8h_source}{}\doxysection{Asset\+Manager.\+h}
\label{_asset_manager_8h_source}\index{OSKengine2/AssetManager.h@{OSKengine2/AssetManager.h}}
\mbox{\hyperlink{_asset_manager_8h}{Ir a la documentaci√≥n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00001}00001 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00003}00003 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_o_s_kmacros_8h}{OSKmacros.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00004}00004 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_linked_list_8hpp}{LinkedList.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00005}00005 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_hash_map_8hpp}{HashMap.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00006}00006 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_shared_ptr_8hpp}{SharedPtr.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00007}00007 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_i_asset_loader_8h}{IAssetLoader.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00008}00008 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00009}00009 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_o_s_k_1_1_a_s_s_e_t_s}{OSK::ASSETS}} \{}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00011}00011     \textcolor{keyword}{class }IAsset;}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00012}00012 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00023}\mbox{\hyperlink{class_o_s_k_1_1_a_s_s_e_t_s_1_1_asset_manager}{00023}}     \textcolor{keyword}{class }\mbox{\hyperlink{class_o_s_k_1_1_a_s_s_e_t_s_1_1_asset_manager}{AssetManager}} \{}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00025}00025     \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00026}00026 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00027}00027         \mbox{\hyperlink{class_o_s_k_1_1_a_s_s_e_t_s_1_1_asset_manager_a9c89817cbf3516f1451c116e89f47d30}{\string~AssetManager}}();}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00028}00028 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00034}\mbox{\hyperlink{class_o_s_k_1_1_a_s_s_e_t_s_1_1_asset_manager_ac0ee74e39c90d597beb90338a31bdae3}{00034}}         \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> T* \mbox{\hyperlink{class_o_s_k_1_1_a_s_s_e_t_s_1_1_asset_manager_ac0ee74e39c90d597beb90338a31bdae3}{Load}}(\textcolor{keyword}{const} std::string\& assetFilePath, \textcolor{keyword}{const} std::string lifetimePool) \{}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00035}00035             \textcolor{keywordflow}{if} (assetsTable.ContainsKey(assetFilePath))}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00036}00036                 \textcolor{keywordflow}{return} (T*)assetsTable.Get(assetFilePath);}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00037}00037 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00038}00038             T* output = \textcolor{keyword}{new} T(assetFilePath);}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00039}00039             loaders.Get(T::GetAssetType())-\/>Load(assetFilePath, (\mbox{\hyperlink{class_o_s_k_1_1_a_s_s_e_t_s_1_1_i_asset}{IAsset}}**)\&output);}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00040}00040 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00041}00041             assetsTable.Insert(output-\/>GetName(), output);}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00042}00042 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00043}00043             \textcolor{keywordflow}{if} (!assetsPerLifetime.ContainsKey(lifetimePool))}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00044}00044                 assetsPerLifetime.Insert(lifetimePool, \{\});}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00045}00045 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00046}00046             assetsPerLifetime.Get(lifetimePool).Insert(output);}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00047}00047 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00048}00048             \textcolor{keywordflow}{return} output;}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00049}00049         \}}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00050}00050 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00056}00056         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_a_s_s_e_t_s_1_1_asset_manager_a032603cd4ddeedebe56ec8c9516469f5}{DeleteLifetime}}(\textcolor{keyword}{const} std::string\& lifetime);}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00057}00057 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00064}\mbox{\hyperlink{class_o_s_k_1_1_a_s_s_e_t_s_1_1_asset_manager_a37f73c3a4d17bb495b38eb65f7073d67}{00064}}         \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_a_s_s_e_t_s_1_1_asset_manager_a37f73c3a4d17bb495b38eb65f7073d67}{RegisterLoader}}() \{}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00065}00065             loaders.Insert(T::GetAssetType(), \textcolor{keyword}{new} T);}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00066}00066         \}}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00067}00067 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00068}00068     \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00069}00069 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00070}00070         \mbox{\hyperlink{class_o_s_k_1_1_hash_map}{HashMap<std::string, IAsset*>}} assetsTable;}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00071}00071         \mbox{\hyperlink{class_o_s_k_1_1_hash_map}{HashMap<std::string, DynamicArray<SharedPtr<IAsset>}}>> assetsPerLifetime;}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00072}00072         \mbox{\hyperlink{class_o_s_k_1_1_hash_map}{HashMap<std::string, IAssetLoader*>}} loaders;}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00073}00073 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00074}00074     \};}
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00075}00075 }
\DoxyCodeLine{\Hypertarget{_asset_manager_8h_source_l00076}00076 \}}

\end{DoxyCode}
