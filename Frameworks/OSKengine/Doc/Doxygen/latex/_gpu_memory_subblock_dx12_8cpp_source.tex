\hypertarget{_gpu_memory_subblock_dx12_8cpp_source}{}\doxysection{Gpu\+Memory\+Subblock\+Dx12.\+cpp}
\label{_gpu_memory_subblock_dx12_8cpp_source}\index{OSKengine2/GpuMemorySubblockDx12.cpp@{OSKengine2/GpuMemorySubblockDx12.cpp}}
\mbox{\hyperlink{_gpu_memory_subblock_dx12_8cpp}{Ir a la documentación de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_subblock_dx12_8h}{GpuMemorySubblockDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00003}00003 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_gpu_memory_block_dx12_8h}{GpuMemoryBlockDx12.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00004}00004 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00005}00005 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k}{OSK}};}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00006}00006 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespace_o_s_k_1_1_g_r_a_p_h_i_c_s}{OSK::GRAPHICS}};}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00008}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_ab262f3cf588bc8a62239046eb8afd29c}{00008}} GpuMemorySubblockDx12::GpuMemorySubblockDx12(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_block}{IGpuMemoryBlock}}* owner, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_a46fc43555030fbe208abc7db8c36673d}{TSize}} size, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_a46fc43555030fbe208abc7db8c36673d}{TSize}} offset, ComPtr<ID3D12Resource> resource)}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00009}00009     : \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock}{IGpuMemorySubblock}}(owner, size, offset), resource(resource) \{}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00011}00011 \}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00012}00012 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00013}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_aa198c6e76ed5686635f6bdaad954ec7c}{00013}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_aa198c6e76ed5686635f6bdaad954ec7c}{GpuMemorySubblockDx12::MapMemory}}() \{}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00014}00014     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_aa198c6e76ed5686635f6bdaad954ec7c}{MapMemory}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_a98060a86b121f0940cde38c36eca822f}{GetAllocatedSize}}(), 0);}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00015}00015 \}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00016}00016 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00017}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_ab9be318d467bafb83fd8fc25847b73e6}{00017}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_aa198c6e76ed5686635f6bdaad954ec7c}{GpuMemorySubblockDx12::MapMemory}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_a46fc43555030fbe208abc7db8c36673d}{TSize}} size, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_a46fc43555030fbe208abc7db8c36673d}{TSize}} offset) \{}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00018}00018     D3D12\_RANGE range\{\};}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00019}00019     range.Begin = offset;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00020}00020     range.End = offset + size;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00021}00021     }
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00022}00022     \textcolor{keyword}{const} HRESULT result = resource-\/>Map(0, \&range, \&\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_ae410a7a22ad14bb5db166444b306cb0d}{mappedData}});}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00023}00023 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00024}00024     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_aac3a8be651f21675328192eeb107994f}{isMapped}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00025}00025 \}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00026}00026 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00027}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_a99bd6e4ba92049a34fa9869bd56c317c}{00027}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_a99bd6e4ba92049a34fa9869bd56c317c}{GpuMemorySubblockDx12::Write}}(\textcolor{keyword}{const} \textcolor{keywordtype}{void}* data, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_a46fc43555030fbe208abc7db8c36673d}{TSize}} size) \{}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00028}00028     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_aae3a8737c4a303f7c4de787beec928d1}{WriteOffset}}(data, size, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_a8825ad42c419c641df9d469aa76e9d2e}{cursor}});}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00029}00029     \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_a8825ad42c419c641df9d469aa76e9d2e}{cursor}} += size;}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00030}00030 \}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00032}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_aae3a8737c4a303f7c4de787beec928d1}{00032}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_aae3a8737c4a303f7c4de787beec928d1}{GpuMemorySubblockDx12::WriteOffset}}(\textcolor{keyword}{const} \textcolor{keywordtype}{void}* data, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_a46fc43555030fbe208abc7db8c36673d}{TSize}} size, \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_a46fc43555030fbe208abc7db8c36673d}{TSize}} offset) \{}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00033}00033     \mbox{\hyperlink{_assert_8h_adfbccaec84df99b8277f9d877554170c}{OSK\_ASSERT}}(\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_aac3a8be651f21675328192eeb107994f}{isMapped}}, \textcolor{stringliteral}{"{}El buffer no está mapeado."{}});}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00034}00034 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00035}00035     memcpy((\textcolor{keywordtype}{char}*)\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_i_gpu_memory_subblock_ae410a7a22ad14bb5db166444b306cb0d}{mappedData}} + offset, data, size);}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00036}00036 \}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00037}00037 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00038}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_a799dcd79180dce0f84b9200488e6aa82}{00038}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_a799dcd79180dce0f84b9200488e6aa82}{GpuMemorySubblockDx12::Unmap}}() \{}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00039}00039     resource-\/>Unmap(0, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00040}00040 \}}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00041}00041 }
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00042}\mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_aeed70f548ec527591047d3bcb3764c0e}{00042}} ID3D12Resource* \mbox{\hyperlink{class_o_s_k_1_1_g_r_a_p_h_i_c_s_1_1_gpu_memory_subblock_dx12_aeed70f548ec527591047d3bcb3764c0e}{GpuMemorySubblockDx12::GetResource}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00043}00043     \textcolor{keywordflow}{return} resource.Get();}
\DoxyCodeLine{\Hypertarget{_gpu_memory_subblock_dx12_8cpp_source_l00044}00044 \}}

\end{DoxyCode}
