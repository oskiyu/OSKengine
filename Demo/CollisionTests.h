#pragma once

#include <string>
#include <array>

#include <OSKengine/GameObject.h>
#include <OSKengine/Vector3.hpp>
#include <OSKengine/DynamicArray.hpp>

struct CollisionTestCase {

	std::string testName = "";

	OSK::Vector3f positionA = OSK::Vector3f::Zero;
	OSK::Vector3f positionB = OSK::Vector3f::Zero;

};

class CollisionTesting {

public:
	
	void Start(OSK::ECS::GameObjectIndex firstObj, OSK::ECS::GameObjectIndex secondObj);
	void Update();

private:

	bool isExecuting = false;
	TDeltaTime lastTestChange = 0.0f;
	int currentTestIndex = -1;

	OSK::ECS::GameObjectIndex firstObject  = OSK::ECS::EMPTY_GAME_OBJECT;
	OSK::ECS::GameObjectIndex secondObject = OSK::ECS::EMPTY_GAME_OBJECT;

	OSK::DynamicArray<CollisionTestCase> testCases = {
		{ "T-COL-00", {0.0f, 0.0f, 0.0f}, {0.0f, 0.0f, -1.0f}},
		{ "T-COL-01", {0.0f, 0.0f, 0.0f}, {1.0f, 0.0f, -1.0f} },
		{ "T-COL-02", {0.0f, 0.0f, 0.0f}, {1.0f, 0.0f, 0.0f} },
		{ "T-COL-03", {0.0f, 0.0f, 0.0f}, {1.0f, 0.0f, 1.0f} },
		{ "T-COL-04", {0.0f, 0.0f, 0.0f}, {0.0f, 0.0f, 1.0f} },
		{ "T-COL-05", {0.0f, 0.0f, 0.0f}, {-1.0f, 0.0f, 1.0f} },
		{ "T-COL-06", {0.0f, 0.0f, 0.0f}, {-1.0f, 0.0f, 0.0f} },
		{ "T-COL-07", {0.0f, 0.0f, 0.0f}, {-1.0f, 0.0f, -1.0f} },

		{ "T-COL-08", {0.0f, 0.0f, -1.0f},{0.0f, 0.0f, 0.0f} },
		{ "T-COL-09", {1.0f, 0.0f, -1.0f},{0.0f, 0.0f, 0.0f} },
		{ "T-COL-10", {1.0f, 0.0f, 0.0f},{0.0f, 0.0f, 0.0f} },
		{ "T-COL-11", {1.0f, 0.0f, 1.0f},{0.0f, 0.0f, 0.0f} },
		{ "T-COL-12", {0.0f, 0.0f, 1.0f},{0.0f, 0.0f, 0.0f} },
		{ "T-COL-13", {-1.0f, 0.0f, 1.0f},{0.0f, 0.0f, 0.0f} },
		{ "T-COL-14", {-1.0f, 0.0f, 0.0f},{0.0f, 0.0f, 0.0f} },
		{ "T-COL-15", {-1.0f, 0.0f, -1.0f},{0.0f, 0.0f, 0.0f} },

		// +/+

		{ "T-COL-16", {1.0f, 0.0f, 1.0f}, {1.0f, 0.0f, 0.0f}},
		{ "T-COL-17", {1.0f, 0.0f, 1.0f}, {2.0f, 0.0f, 0.0f} },
		{ "T-COL-18", {1.0f, 0.0f, 1.0f}, {2.0f, 0.0f, 1.0f} },
		{ "T-COL-19", {1.0f, 0.0f, 1.0f}, {2.0f, 0.0f, 2.0f} },
		{ "T-COL-20", {1.0f, 0.0f, 1.0f}, {1.0f, 0.0f, 2.0f} },
		{ "T-COL-21", {1.0f, 0.0f, 1.0f}, {0.0f, 0.0f, 2.0f} },
		{ "T-COL-22", {1.0f, 0.0f, 1.0f}, {0.0f, 0.0f, 1.0f} },
		{ "T-COL-23", {1.0f, 0.0f, 1.0f}, {0.0f, 0.0f, 0.0f} },

		{ "T-COL-24", {1.0f, 0.0f, 0.0f}, {1.0f, 0.0f, 1.0f} },
		{ "T-COL-25", {2.0f, 0.0f, 0.0f}, {1.0f, 0.0f, 1.0f} },
		{ "T-COL-26", {2.0f, 0.0f, 1.0f}, {1.0f, 0.0f, 1.0f} },
		{ "T-COL-27", {2.0f, 0.0f, 2.0f}, {1.0f, 0.0f, 1.0f} },
		{ "T-COL-28", {1.0f, 0.0f, 2.0f}, {1.0f, 0.0f, 1.0f} },
		{ "T-COL-29", {0.0f, 0.0f, 2.0f}, {1.0f, 0.0f, 1.0f} },
		{ "T-COL-30", {0.0f, 0.0f, 1.0f}, {1.0f, 0.0f, 1.0f} },
		{ "T-COL-31", {0.0f, 0.0f, 0.0f}, {1.0f, 0.0f, 1.0f} },

		// +/-

		{ "T-COL-32", {1.0f, 0.0f, -1.0f}, {1.0f, 0.0f, -2.0f}},
		{ "T-COL-33", {1.0f, 0.0f, -1.0f}, {2.0f, 0.0f, -2.0f} },
		{ "T-COL-34", {1.0f, 0.0f, -1.0f}, {2.0f, 0.0f, -1.0f} },
		{ "T-COL-35", {1.0f, 0.0f, -1.0f}, {2.0f, 0.0f, 0.0f} },
		{ "T-COL-36", {1.0f, 0.0f, -1.0f}, {1.0f, 0.0f, 0.0f} },
		{ "T-COL-37", {1.0f, 0.0f, -1.0f}, {0.0f, 0.0f, 0.0f} },
		{ "T-COL-38", {1.0f, 0.0f, -1.0f}, {0.0f, 0.0f, -1.0f} },
		{ "T-COL-39", {1.0f, 0.0f, -1.0f}, {0.0f, 0.0f, -2.0f} },

		{ "T-COL-40", {1.0f, 0.0f, -2.0f}, {1.0f, 0.0f, -1.0f} },
		{ "T-COL-41", {2.0f, 0.0f, -2.0f}, {1.0f, 0.0f, -1.0f} },
		{ "T-COL-42", {2.0f, 0.0f, -1.0f}, {1.0f, 0.0f, -1.0f} },
		{ "T-COL-43", {2.0f, 0.0f, 0.0f} , {1.0f, 0.0f, -1.0f} },
		{ "T-COL-44", {1.0f, 0.0f, 0.0f} , {1.0f, 0.0f, -1.0f} },
		{ "T-COL-45", {0.0f, 0.0f, 0.0f} , {1.0f, 0.0f, -1.0f} },
		{ "T-COL-46", {0.0f, 0.0f, -1.0f}, {1.0f, 0.0f, -1.0f} },
		{ "T-COL-47", {0.0f, 0.0f, -2.0f}, {1.0f, 0.0f, -1.0f} },

		// -/-

		{ "T-COL-48", {-1.0f, 0.0f, -1.0f}, {-1.0f, 0.0f, -2.0f}},
		{ "T-COL-49", {-1.0f, 0.0f, -1.0f}, {0.0f, 0.0f, -2.0f} },
		{ "T-COL-50", {-1.0f, 0.0f, -1.0f}, {0.0f, 0.0f, -1.0f} },
		{ "T-COL-51", {-1.0f, 0.0f, -1.0f}, {0.0f, 0.0f, 0.0f} },
		{ "T-COL-52", {-1.0f, 0.0f, -1.0f}, {-1.0f, 0.0f, 0.0f} },
		{ "T-COL-53", {-1.0f, 0.0f, -1.0f}, {-2.0f, 0.0f, 0.0f} },
		{ "T-COL-54", {-1.0f, 0.0f, -1.0f}, {-2.0f, 0.0f, -1.0f} },
		{ "T-COL-55", {-1.0f, 0.0f, -1.0f}, {-2.0f, 0.0f, -2.0f} },

		{ "T-COL-56", {-1.0f, 0.0f, -2.0f}, {-1.0f, 0.0f, -1.0f} },
		{ "T-COL-57", {0.0f, 0.0f, -2.0f}, {-1.0f, 0.0f, -1.0f} },
		{ "T-COL-58", {0.0f, 0.0f, -1.0f}, {-1.0f, 0.0f, -1.0f} },
		{ "T-COL-59", {0.0f, 0.0f, 0.0f} , {-1.0f, 0.0f, -1.0f} },
		{ "T-COL-60", {-1.0f, 0.0f, 0.0f} , {-1.0f, 0.0f, -1.0f} },
		{ "T-COL-61", {-2.0f, 0.0f, 0.0f} , {-1.0f, 0.0f, -1.0f} },
		{ "T-COL-62", {-2.0f, 0.0f, -1.0f}, {-1.0f, 0.0f, -1.0f} },
		{ "T-COL-63", {-2.0f, 0.0f, -2.0f}, {-1.0f, 0.0f, -1.0f} },

		// -/+

		{ "T-COL-64", {-1.0f, 0.0f, 1.0f}, {-1.0f, 0.0f, 0.0f}},
		{ "T-COL-65", {-1.0f, 0.0f, 1.0f}, { 0.0f, 0.0f, 0.0f} },
		{ "T-COL-66", {-1.0f, 0.0f, 1.0f}, { 0.0f, 0.0f, 1.0f} },
		{ "T-COL-67", {-1.0f, 0.0f, 1.0f}, { 0.0f, 0.0f, 2.0f} },
		{ "T-COL-68", {-1.0f, 0.0f, 1.0f}, {-1.0f, 0.0f, 2.0f} },
		{ "T-COL-69", {-1.0f, 0.0f, 1.0f}, {-2.0f, 0.0f, 2.0f} },
		{ "T-COL-70", {-1.0f, 0.0f, 1.0f}, {-2.0f, 0.0f, 1.0f} },
		{ "T-COL-71", {-1.0f, 0.0f, 1.0f}, {-2.0f, 0.0f, 0.0f} },

		{ "T-COL-72", {-1.0f, 0.0f, 0.0f}, {-1.0f, 0.0f, 1.0f} },
		{ "T-COL-73", { 0.0f, 0.0f, 0.0f}, {-1.0f, 0.0f, 1.0f} },
		{ "T-COL-74", { 0.0f, 0.0f, 1.0f}, {-1.0f, 0.0f, 1.0f} },
		{ "T-COL-75", { 0.0f, 0.0f, 2.0f} , {-1.0f, 0.0f, 1.0f} },
		{ "T-COL-76", {-1.0f, 0.0f, 2.0f} , {-1.0f, 0.0f, 1.0f} },
		{ "T-COL-77", {-2.0f, 0.0f, 2.0f} , {-1.0f, 0.0f, 1.0f} },
		{ "T-COL-78", {-2.0f, 0.0f, 1.0f}, {-1.0f, 0.0f, 1.0f} },
		{ "T-COL-79", {-2.0f, 0.0f, 0.0f}, {-1.0f, 0.0f, 1.0f} },
	};

};
